(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{329:function(e,t,n){e.exports=n.p+"static/media/logo-icon.17a69c7a.png"},330:function(e,t,n){e.exports=n.p+"static/media/logo-text.683aae60.png"},624:function(e){e.exports=JSON.parse('{"auth":{"signIn":"Sign In","signUp":"Sign Up","logOut":"Log Out","continue":"Continue","confirmPassword":"Confirm Password","email":"Email Address","password":"Password","welcome":"Welcome!","createAccount":"Create an account","registrationFailed":"Registration Failed. {{error}}","registrationSuccess":"Registration Successful","loginFailed":"Login Failed. {{error}}","loginSuccess":"Login Successful","logInToContinue":"Log in to continue","notYetRegistered":"Not yet registered?","haveAnAccount":"Have an account?","matchPassword":"Passwords don\'t match"},"validation":{"required":"{{field}} is required","invalid":"{{field}} is invalid","minLength":"Minimum length of {{field}} must be {{length}}","maxLength":"Maximum length of {{field}} must be {{length}}"},"home":{"blogListEmpty":"No entries found","imageLoadFailed":"Failed to load image","endMediaFeed":"Reached the end of media feed"},"product":{"productIdReq":"Product ID is required","notFound":"Failed to get product detail","noDescription":"No product description provided","addToWishlistSuccess":"Added product to your wishlist","removeToWishlistSuccess":"Removed product from your wishlist","addToWishlistError":"Failed to add product to your wishlist","removeToWishlistError":"Failed to remove product from your wishlist","reachedEnd":"Reached the end of {{category}} for this product","noContent":"No content retrieved."},"lists":{"noLists":"You don\'t have any lists yet. To start, click on New List","noListsOther":"You don\'t have any lists yet. To start either follow someone or in your favorites tab, create a new list","notFound":"The list could not be found. Try checking the name under your favorites tab","noInfluencers":"Nothing here yet. Start adding influencers from their profile page","emptyList":"The list is empty. You can add influencers to the list from their profile page"},"wishlists":{"noLists":"No Wishlist found","createWishlist":"Create Wishlist","editWishlist":"Edit Wishlist","saveChanges":"Save Changes","loginRequired":"You must login to use this feature","search":"Search in lists","addProductSuccess":"Successfully added product to {{list}}","addProductError":"Failed to add product to {{list}}","removeProductSuccess":"Successfully removed product to {{list}}","removeProductError":"Failed to remove product to {{list}}","addProductTitle":"Add to Wishlist","alreadyLikedTitle":"This product is already in a wishlist","alreadyLikedMessage":"Would you like to add \\"{{name}}\\" in another list?","removeFromWishlist":"Remove from list","products":"Products","tags":"Tags","title":"Title","makePublic":"Make Public","createFailed":"Failed to create wishlist","createSuccess":"Successfully created wishlist","editFailed":"Failed to update wishlist","editSuccess":"Successfully updated wishlist"},"emptyMedia":"No blogs or videos found today :(","noFollowing":"You are not following anyone yet, select an author to follow them and build your personalized feed.","goBack":"Go Back","blogs":"Blogs","media":"+{{media}} Media","influencers":"Influencers","videos":"Videos","comments":"Comments","rank":"Rank #{{ranking}}","searchFor":"Search for","latestOn":"Latest on","noProductsForCategory":"No products on your wishlist yet for this category!","shareTitle":"This product is awesome","shareMessage":"I love this product. Try it out.","add":"Add","yes":"Yes","ok":"Ok","cancel":"Cancel","remove":"Remove","filters":"Filters","sort":"Sort","reset":"Reset","sortBy":"Sort by","filterBy":"Filter by","apply":"Apply","applyFilters":"Apply filters","homeSearch":"Search","productFeedSearch":"Search products by name, brand, concern or other","errorLoadingApplication":"Failed to load application!","invalidEmailFormat":"Email format is not valid!","passwordMinLength":"Minimum length of password must be {{value}}!","passwordMaxLength":"Maximum length of password must be {{value}}!","invalidConfirmPassword":"Passwords don\'t match!","shareSuccess":"Shared Successfully!","shareError":"Failed to share","feedbackHeader":"Send Feedback","feedbackQuestion":"How can we improve your experience in the app?","sendFeedback":"Send","feedbackSuccess":"Feedback Submitted","feedbackSuccessMessage":"Thank you for using EZENCIEL! We\'ll use your feedback to continue improving your experience.","feedbackError":"Failed to submit your feedback, please try again later or send us an email at info@ezenciel.com","somethingWrong":"Something went wrong...","seconds":"seconds ago","second":"second ago","minutes":"minutes ago","minute":"minute ago","hours":"hours ago","hour":"hour ago","days":"days ago","day":"day ago","weeks":"weeks ago","week":"week ago","months":"months ago","month":"month ago","years":"years ago","year":"year ago"}')},651:function(e,t,n){n(652),e.exports=n(927)},652:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},874:function(e,t,n){var r=n(25).StyleSheet.create({container:{flex:1,backgroundColor:"transparent"},parallaxHeaderContainer:{backgroundColor:"transparent",overflow:"hidden"},parallaxHeader:{backgroundColor:"transparent",overflow:"hidden"},backgroundImage:{position:"absolute",backgroundColor:"transparent",overflow:"hidden",top:0},stickyHeader:{backgroundColor:"transparent",position:"absolute",overflow:"hidden",top:0,left:0},scrollView:{backgroundColor:"transparent"}});e.exports=r},877:function(e,t,n){var r={"./af":435,"./af.js":435,"./ar":436,"./ar-dz":437,"./ar-dz.js":437,"./ar-kw":438,"./ar-kw.js":438,"./ar-ly":439,"./ar-ly.js":439,"./ar-ma":440,"./ar-ma.js":440,"./ar-sa":441,"./ar-sa.js":441,"./ar-tn":442,"./ar-tn.js":442,"./ar.js":436,"./az":443,"./az.js":443,"./be":444,"./be.js":444,"./bg":445,"./bg.js":445,"./bm":446,"./bm.js":446,"./bn":447,"./bn.js":447,"./bo":448,"./bo.js":448,"./br":449,"./br.js":449,"./bs":450,"./bs.js":450,"./ca":451,"./ca.js":451,"./cs":452,"./cs.js":452,"./cv":453,"./cv.js":453,"./cy":454,"./cy.js":454,"./da":455,"./da.js":455,"./de":456,"./de-at":457,"./de-at.js":457,"./de-ch":458,"./de-ch.js":458,"./de.js":456,"./dv":459,"./dv.js":459,"./el":460,"./el.js":460,"./en-SG":461,"./en-SG.js":461,"./en-au":462,"./en-au.js":462,"./en-ca":463,"./en-ca.js":463,"./en-gb":464,"./en-gb.js":464,"./en-ie":465,"./en-ie.js":465,"./en-il":466,"./en-il.js":466,"./en-nz":467,"./en-nz.js":467,"./eo":468,"./eo.js":468,"./es":469,"./es-do":470,"./es-do.js":470,"./es-us":471,"./es-us.js":471,"./es.js":469,"./et":472,"./et.js":472,"./eu":473,"./eu.js":473,"./fa":474,"./fa.js":474,"./fi":475,"./fi.js":475,"./fo":476,"./fo.js":476,"./fr":477,"./fr-ca":478,"./fr-ca.js":478,"./fr-ch":479,"./fr-ch.js":479,"./fr.js":477,"./fy":480,"./fy.js":480,"./ga":481,"./ga.js":481,"./gd":482,"./gd.js":482,"./gl":483,"./gl.js":483,"./gom-latn":484,"./gom-latn.js":484,"./gu":485,"./gu.js":485,"./he":486,"./he.js":486,"./hi":487,"./hi.js":487,"./hr":488,"./hr.js":488,"./hu":489,"./hu.js":489,"./hy-am":490,"./hy-am.js":490,"./id":491,"./id.js":491,"./is":492,"./is.js":492,"./it":493,"./it-ch":494,"./it-ch.js":494,"./it.js":493,"./ja":495,"./ja.js":495,"./jv":496,"./jv.js":496,"./ka":497,"./ka.js":497,"./kk":498,"./kk.js":498,"./km":499,"./km.js":499,"./kn":500,"./kn.js":500,"./ko":501,"./ko.js":501,"./ku":502,"./ku.js":502,"./ky":503,"./ky.js":503,"./lb":504,"./lb.js":504,"./lo":505,"./lo.js":505,"./lt":506,"./lt.js":506,"./lv":507,"./lv.js":507,"./me":508,"./me.js":508,"./mi":509,"./mi.js":509,"./mk":510,"./mk.js":510,"./ml":511,"./ml.js":511,"./mn":512,"./mn.js":512,"./mr":513,"./mr.js":513,"./ms":514,"./ms-my":515,"./ms-my.js":515,"./ms.js":514,"./mt":516,"./mt.js":516,"./my":517,"./my.js":517,"./nb":518,"./nb.js":518,"./ne":519,"./ne.js":519,"./nl":520,"./nl-be":521,"./nl-be.js":521,"./nl.js":520,"./nn":522,"./nn.js":522,"./pa-in":523,"./pa-in.js":523,"./pl":524,"./pl.js":524,"./pt":525,"./pt-br":526,"./pt-br.js":526,"./pt.js":525,"./ro":527,"./ro.js":527,"./ru":528,"./ru.js":528,"./sd":529,"./sd.js":529,"./se":530,"./se.js":530,"./si":531,"./si.js":531,"./sk":532,"./sk.js":532,"./sl":533,"./sl.js":533,"./sq":534,"./sq.js":534,"./sr":535,"./sr-cyrl":536,"./sr-cyrl.js":536,"./sr.js":535,"./ss":537,"./ss.js":537,"./sv":538,"./sv.js":538,"./sw":539,"./sw.js":539,"./ta":540,"./ta.js":540,"./te":541,"./te.js":541,"./tet":542,"./tet.js":542,"./tg":543,"./tg.js":543,"./th":544,"./th.js":544,"./tl-ph":545,"./tl-ph.js":545,"./tlh":546,"./tlh.js":546,"./tr":547,"./tr.js":547,"./tzl":548,"./tzl.js":548,"./tzm":549,"./tzm-latn":550,"./tzm-latn.js":550,"./tzm.js":549,"./ug-cn":551,"./ug-cn.js":551,"./uk":552,"./uk.js":552,"./ur":553,"./ur.js":553,"./uz":554,"./uz-latn":555,"./uz-latn.js":555,"./uz.js":554,"./vi":556,"./vi.js":556,"./x-pseudo":557,"./x-pseudo.js":557,"./yo":558,"./yo.js":558,"./zh-cn":559,"./zh-cn.js":559,"./zh-hk":560,"./zh-hk.js":560,"./zh-tw":561,"./zh-tw.js":561};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=877},880:function(e,t,n){e.exports=n.p+"./fonts/OpenSans.ttf"},881:function(e,t,n){e.exports=n.p+"./fonts/OpenSans-Bold.ttf"},882:function(e,t,n){e.exports=n.p+"./fonts/OpenSans-SemiBold.ttf"},883:function(e,t,n){e.exports=n.p+"./fonts/Roboto.ttf"},884:function(e,t,n){e.exports=n.p+"./fonts/Roboto-Medium.ttf"},885:function(e,t,n){e.exports=n.p+"./fonts/Roboto-Bold.ttf"},886:function(e,t,n){e.exports=n.p+"./fonts/ProximaNova-Light.otf"},893:function(e,t,n){e.exports=n.p+"static/media/google.80527ac6.png"},894:function(e,t,n){e.exports=n.p+"static/media/facebook.cdbce77d.png"},927:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(3),i=n(265),l=n(951),c=n(31),s=n(66),u=n(100),d=n(10),m=n(36),f=n(26),p=n(948),g=n(949),y=n(8),h=n.n(y),b=n(6),v=n.n(b),S=n(5),w=n.n(S),E=n(9),O=n.n(E),x=n(4),k=n.n(x),j=n(7),C=n.n(j),P=n(14),T=n(2),R=n(24),D=n(222),L=n(163),I=n(164),F=n(165),B=n(104),z=n(339),_=n(166),H=n(122),A=n(167),G=n(145),M=9,N=11,W=12,V=14,U=16,q=18,Y=19,J=35,K=32,Q=24,Z=22,X=18,$=14,ee={white:"#FFFFFF",transparentWhite:"#FFFFFFCC",extraLightGray:"#F8F8F8",lighterGray:"#F2F2F2",lightGray:"#EFF1F2",semiGray:"#D4D4D6",followersColor:"#ABA9AB",transparentGray:"#9B9B9B48",categoriesLightGray:"#383C41CC",categoriesGray:"#383C41",iconGray:"#BCBCBC",gray:"#9B9B9B",darkGray:"#4A4A4A",extraDarkGray:"#393C42",red:"#FF2222",darkRed:"#D00F02",default:"#7C7F82",defaultTransparent:"#7C7F82B3",green:"#157B5B",lightGreen:"#A4CC37",lightBlue:"#1dcaff",blue:"#3B5998",yellow:"#FFD90A",orange:"#E56751",black:"#000000",transparentBlack:"#00000080",randomColors:["#F6BCBB","#D7EBF3","#D8EAE9","#B5DAE6","#D4CADA"]},te=function(e){var t=e.name,n=e.size,r=void 0===n?U:n,o=e.color,i=void 0===o?ee.darkGray:o;switch(e.font){case"AntDesign":return a.a.createElement(D.default,{size:r,color:i,name:t});case"Entypo":return a.a.createElement(L.default,{size:r,color:i,name:t});case"EvilIcons":return a.a.createElement(I.default,{size:r,color:i,name:t});case"FontAwesome":return a.a.createElement(B.default,{size:r,color:i,name:t});case"FontAwesome5":return a.a.createElement(z.default,{size:r,color:i,name:t});case"Foundation":return a.a.createElement(_.default,{size:r,color:i,name:t});case"Ionicons":return a.a.createElement(H.default,{size:r,color:i,name:t});case"MaterialCommunityIcons":return a.a.createElement(A.default,{size:r,color:i,name:t});case"MaterialIcons":return a.a.createElement(G.default,{size:r,color:i,name:t});default:return a.a.createElement(F.default,{size:r,color:i,name:t})}},ne=2,re=5,ae=10,oe=15,ie=20,le=30,ce=50,se=o.a.create({container:{flexDirection:"row",alignItems:"center",padding:re}}),ue=function(e){var t=e.iconName,n=e.iconSize,r=e.iconColor,o=e.iconFont,i=e.onPress,l=e.containerStyle,c=e.children;return a.a.createElement(R.a,{onPress:i},a.a.createElement(T.a,{style:[se.container,l]},a.a.createElement(te,{name:t,size:n,color:r,font:o}),c))},de=n(62),me=n(135),fe=n(11),pe=n(46),ge=n(56),ye=n(13),he=n.n(ye),be=n(121),ve=n(333),Se=n.n(ve),we=o.a.create({container:{flex:1,backgroundColor:ee.white,display:"flex",justifyContent:"center",flexDirection:"row",paddingTop:0},subContainer:{flex:1,width:935,maxWidth:935,paddingRight:10,paddingTop:20},containerVertical:{flex:1,backgroundColor:ee.white,display:"flex",justifyContent:"center",flexDirection:"column"},header:{top:0,left:0,right:0,padding:ae,paddingBottom:10,paddingTop:0,backgroundColor:ee.white},error:{marginTop:ne,color:ee.red,fontSize:N,textAlign:"center"},message:{fontSize:W,flexWrap:"wrap",fontFamily:"OpenSans",color:ee.extraDarkGray},text:{fontFamily:"OpenSans",fontSize:V,color:ee.darkGray},more:{fontFamily:"OpenSans",color:ee.red,textAlign:"left",fontSize:N}}),Ee=function(e){var t=e.children,n=e.options;return"web"===d.a.OS?a.a.createElement(Se.a,he()({ariaHideApp:!1},n,{style:{height:20}}),a.a.createElement(T.a,{style:we.container},a.a.createElement(T.a,{style:we.subContainer},t))):a.a.createElement(be.a,n,a.a.createElement(T.a,{style:we.container},a.a.createElement(T.a,{style:we.subContainer},t)))},Oe=n(20),xe=n.n(Oe),ke=o.a.create({container:{alignItems:"center",justifyContent:"center"},text:{fontSize:V,color:ee.darkGray}}),je=function(e){var t=e.text,n=e.textStyle,r=e.style,o=e.onPress,i=e.disabled,l=xe()(e,["text","textStyle","style","onPress","disabled"]);return a.a.createElement(R.a,{onPress:o,style:[ke.container,r],disabled:i},a.a.createElement(fe.a,he()({},l,{style:[ke.text,n]}),t))},Ce=n(240),Pe=n.n(Ce);n(833),n(834);Pe.a.initializeApp({apiKey:"AIzaSyAyZk0M951EsF_TmqE9N8fGQT2ygH9IqM0",authDomain:"ezenciel-fcd78.firebaseapp.com",databaseURL:"https://ezenciel-fcd78.firebaseio.com",projectId:"ezenciel-fcd78",storageBucket:"ezenciel-fcd78.appspot.com",messagingSenderId:"180437355191",appId:"1:180437355191:web:a79e8f99b4055424d05b32"});var Te=Pe.a.firestore(),Re=(Pe.a.auth(),Pe.a),De=n(17),Le=n.n(De),Ie=n(348),Fe=n.n(Ie),Be=n(115);var ze=Fe.a.create({baseURL:"http://ezenciel.com:5000"}),_e=null,He=null,Ae=null;ze.interceptors.request.use((function(e){return"post"===e.method&&(e.data.device_id=Be.a.installationId,_e&&(e.data.ip_address=_e),He&&(e.data.email=He),Ae&&(e.data.platform=Ae)),e}));var Ge=function(e){He=e},Me=function(){var e,t;return Le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Le.a.awrap(Fe.a.get("https://api.ipify.org?format=json"));case 2:return e=n.sent,t=e.data,_e=t.ip,n.abrupt("return",_e);case 6:case"end":return n.stop()}}),null,null,null,Promise)},Ne=ze,We=function(){return function(e){Re.auth().onAuthStateChanged((function(t){if(t){var n={email:t.email,uid:t.uid};e({type:"sign_in_user",payload:n})}else e({type:"log_out_user"})}))}},Ve=n(646),Ue=n(204),qe=n.n(Ue),Ye=n(624);qe.a.fallbacks=!0,qe.a.translations={en:Ye},qe.a.defaultLocale="en",qe.a.locale=Ve.a;var Je=qe.a,Ke=o.a.create({modal:{justifyContent:"flex-end",margin:0,height:"100%",width:"100%",backgroundColor:"#FFFFFF50"},container:{width:"100%",paddingBottom:re,backgroundColor:ee.white,padding:ie,paddingTop:re},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{color:ee.darkGray,fontSize:U,fontWeight:"bold",fontFamily:"Roboto"},toast:{borderRadius:15,backgroundColor:ee.white,color:ee.black,fontSize:U,paddingTop:ae,paddingBottom:ae,fontWeight:"bold",fontFamily:"Roboto"},cancelButton:{paddingLeft:0,height:40},sendButton:{width:"100%",height:45,marginTop:oe,backgroundColor:ee.darkGray},sendButtonText:{color:ee.extraLightGray,fontSize:U},resetButton:{paddingRight:0,height:40},textArea:{justifyContent:"flex-start",alignContent:"center",minHeight:le,borderRadius:ae,marginTop:ae,paddingTop:re,paddingLeft:ie,backgroundColor:"web"===d.a.OS?ee.lightGray:ee.extraLightGray,color:ee.darkGray,textAlignVertical:"top",fontFamily:"Roboto",fontSize:V},formScrollView:{width:"100%",backgroundColor:ee.white,paddingBottom:le},safeAreaStyle:{backgroundColor:"white",paddingTop:0}});var Qe=function(e){var t=e.children,n=e.style,r=xe()(e,["children","style"]),o=Object(u.d)();return a.a.createElement(T.a,he()({},r,{style:[{paddingTop:o.top,paddingBottom:o.bottom},n]}),t)};function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Xe=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Ze()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).onChange=function(e){t.setState({message:e})},t.onChangeEmail=function(e){t.setState({email:e})},t.send=function(){var e,n=t.state.message,r=t.props,a=r.hideModal,o=r.user,i={email:o.email,uid:o.uid,message:n,api_token:"NqWKEbbhvDHT70tkczfmYFkl8gRmakWGm3Yn"};de.a.dismiss(),(e=i,Ne.post("/feedback",e)).then(t.showThankYouAlert).catch(t.showError).finally((function(){t.setState({message:"",email:""}),a()}))},t.showThankYouAlert=function(){setTimeout((function(){s.Toast.show({text:Je.t("feedbackSuccessMessage")})}),50)},t.showError=function(){setTimeout((function(){s.Toast.show({text:Je.t("feedbackError")}),t.refs.toast.show("hello world!\u0443\u043a\u0449\u043a")}),50)},t.state={message:"",email:""},t}return w()(r,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.hideModal,r=e.user,o=this.state,i=o.message,l=o.email,c={visible:t,onBackdropPress:n,onBackButtonPress:n,style:Ke.modal};return a.a.createElement(Ee,{options:c},a.a.createElement(me.a,{behavior:"ios"===d.a.OS?"padding":null,keyboardShouldPersistTaps:"always"},a.a.createElement(Qe,{style:[Ke.safeAreaStyle,t?{paddingBottom:0}:{}]},a.a.createElement(s.Toast,{ref:"toast"}),a.a.createElement(T.a,{style:Ke.container},a.a.createElement(T.a,{style:Ke.header},a.a.createElement(je,{style:Ke.cancelButton,text:Je.t("cancel"),onPress:n}),a.a.createElement(fe.a,{style:Ke.title},Je.t("feedbackHeader")),a.a.createElement(je,{style:Ke.resetButton,text:Je.t("sendFeedback"),onPress:this.send})),a.a.createElement(ge.a,{style:Ke.formScrollView},r.isLoggedIn?null:a.a.createElement(pe.a,{style:Ke.textArea,value:l,onChangeText:this.onChangeEmail,keyboardType:"email-address",placeholder:Je.t("auth.email")}),a.a.createElement(pe.a,{style:[Ke.textArea,{height:100}],value:i,onChangeText:this.onChange,numberOfLines:5,placeholder:Je.t("feedbackQuestion"),multiline:!0}))))))}}]),r}(r.PureComponent),$e=Object(c.b)((function(e){return{user:e.user}}))(Xe),et=n(644);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var at=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(rt()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).showFeedbackModal=function(){t.setState({feedbackVisible:!0})},t.hideFeedbackModal=function(){t.setState({feedbackVisible:!1})},t.getIcon=function(e){switch(e){case"Home":return"home";case"Search":return"search";case"Lists":return"heart";case"FeedBack":return"message-circle";default:return"home"}},t.state={offset:new P.a.Value(0),feedbackVisible:!1},t}return w()(r,[{key:"componentDidMount",value:function(){"android"===d.a.OS&&f.SafeAreaView.setStatusBarHeight(0)}},{key:"componentDidUpdate",value:function(e){}},{key:"navigate",value:function(e,t,n){var r=this.props.navigation,a=t&&0===n?{params:{scrollUp:Date.now()}}:{},o=t?{action:f.NavigationActions.navigate(nt({routeName:e+"Main"},a))}:{};r.navigate(f.NavigationActions.navigate(nt({routeName:e},o)))}},{key:"render",value:function(){var e=this,t=this.props.navigation.state,n=this.state,r=n.feedbackVisible;n.offset;return a.a.createElement(T.a,{style:[ot.container]},t.routes.map((function(n,r){var o=t.index===r,i=n.routeName,l=n.index;return a.a.createElement(T.a,{style:ot.tab,key:i},a.a.createElement(ue,{iconName:e.getIcon(i),iconSize:20,iconColor:o?ee.default:ee.semiGray,containerStyle:o?[ot.unselectedTab,ot.selectedTab]:ot.unselectedTab,onPress:function(){return e.navigate(i,o,l)}}))})),a.a.createElement(T.a,{style:ot.tab},a.a.createElement(ue,{iconName:"message-circle",iconSize:20,iconColor:ee.semiGray,onPress:this.showFeedbackModal})),a.a.createElement($e,{visible:r,hideModal:this.hideFeedbackModal,hideModalAlert:this.hideFeedbackModalAlert}))}}]),r}(r.PureComponent),ot=o.a.create({container:{position:"absolute",left:0,right:0,bottom:0,flexDirection:"row",padding:re,backgroundColor:ee.white,borderTopWidth:1,borderColor:ee.lightGray,paddingBottom:et.a.statusBarHeight>=44?20:5},tab:{flex:1,height:30,alignItems:"center",justifyContent:"center"},unselectedTab:{padding:0,alignItems:"center",justifyContent:"center",height:"100%",width:40},selectedTab:{borderBottomWidth:2,borderColor:ee.default},toast:{borderRadius:15,backgroundColor:ee.lightGray,borderWidth:1,borderColor:ee.semiGray,color:ee.black,fontSize:U,paddingTop:ae,paddingBottom:ae,fontWeight:"bold",fontFamily:"Roboto"}}),it=Object(f.withNavigation)(at),lt=n(627),ct=n.n(lt),st=n(22),ut=n.n(st),dt=n(27),mt=n(264),ft=n(40),pt=n(1),gt=n.n(pt);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var vt=n(874),St=m.a.get("window"),wt=function(e,t){return e-t},Et=function(){return a.a.createElement(T.a,null)},Ot=function(e,t){var n=e.interpolate(t);return n.toJSON=function(){return n.__getValue()},n},xt={backgroundColor:pt.string,backgroundScrollSpeed:pt.number,fadeOutForeground:pt.bool,fadeOutBackground:pt.bool,contentBackgroundColor:pt.string,onChangeHeaderVisibility:pt.func,parallaxHeaderHeight:pt.number.isRequired,renderBackground:pt.func,renderContentBackground:pt.func,renderFixedHeader:pt.func,renderForeground:pt.func,renderScrollComponent:pt.func,renderStickyHeader:pt.func,stickyHeaderHeight:pt.number,contentContainerStyle:ft.a.style,outputScaleValue:pt.number},kt=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(bt()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).animatedEvent=P.a.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0}),e.renderStickyHeader&&!e.stickyHeaderHeight&&console.warn("Property `stickyHeaderHeight` must be set if `renderStickyHeader` is used."),e.renderParallaxHeader===Et||e.renderForeground||console.warn("Property `renderParallaxHeader` is deprecated. Use `renderForeground` instead."),t.state={scrollY:new P.a.Value(0),viewHeight:St.height,viewWidth:St.width},t.scrollY=new P.a.Value(0),t._footerComponent={setNativeProps:function(){}},t._footerHeight=0,t}return w()(r,[{key:"render",value:function(){var e=this,t=this.props,n=t.backgroundColor,r=t.backgroundScrollSpeed,o=t.children,i=t.contentBackgroundColor,l=t.fadeOutForeground,c=t.fadeOutBackground,s=t.parallaxHeaderHeight,u=t.renderBackground,d=t.renderContentBackground,m=t.renderFixedHeader,f=t.renderForeground,p=t.renderParallaxHeader,g=t.renderScrollComponent,y=t.renderStickyHeader,h=t.stickyHeaderHeight,b=t.style,v=t.contentContainerStyle,S=t.outputScaleValue,w=xe()(t,["backgroundColor","backgroundScrollSpeed","children","contentBackgroundColor","fadeOutForeground","fadeOutBackground","parallaxHeaderHeight","renderBackground","renderContentBackground","renderFixedHeader","renderForeground","renderParallaxHeader","renderScrollComponent","renderStickyHeader","stickyHeaderHeight","style","contentContainerStyle","outputScaleValue"]),E=this._renderBackground({fadeOutBackground:c,backgroundScrollSpeed:r,backgroundColor:n,parallaxHeaderHeight:s,stickyHeaderHeight:h,renderBackground:u,outputScaleValue:S}),O=this._renderForeground({fadeOutForeground:l,parallaxHeaderHeight:s,stickyHeaderHeight:h,renderForeground:f||p}),x=this._wrapChildren(o,{contentBackgroundColor:i,stickyHeaderHeight:h,renderContentBackground:d,contentContainerStyle:v}),k=this._renderFooterSpacer({contentBackgroundColor:i}),j=this._maybeRenderStickyHeader({parallaxHeaderHeight:s,stickyHeaderHeight:h,backgroundColor:n,renderFixedHeader:m,renderStickyHeader:y}),C=g(w);return a.a.createElement(T.a,{style:[b,vt.container],onLayout:function(t){return e._maybeUpdateViewDimensions(t)}},E,a.a.cloneElement(C,{ref:"ScrollView",style:[vt.scrollView,C.props.style],scrollEventThrottle:1,onScroll:P.a.event([{nativeEvent:{contentOffset:{y:this.scrollY}}}],{useNativeDriver:!0,listener:this._onScroll.bind(this)})},O,x,k),j)}},{key:"getScrollResponder",value:function(){return this.refs.ScrollView._component.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this.getScrollResponder().getScrollableNode()}},{key:"getInnerViewNode",value:function(){return this.getScrollResponder().getInnerViewNode()}},{key:"scrollTo",value:function(){var e;(e=this.getScrollResponder()).scrollTo.apply(e,arguments)}},{key:"setNativeProps",value:function(e){this.refs.ScrollView.setNativeProps(e)}},{key:"_onScroll",value:function(e){var t=this.props,n=t.parallaxHeaderHeight,r=t.stickyHeaderHeight,a=t.onChangeHeaderVisibility,o=t.onScroll,i=void 0===o?function(){}:o;this.props.scrollEvent&&this.props.scrollEvent(e);var l=wt(n,r);e.nativeEvent.contentOffset.y>=l?a(!1):a(!0),i(e)}},{key:"_maybeUpdateScrollPosition",value:function(e){var t=this.props,n=t.parallaxHeaderHeight,r=t.stickyHeaderHeight,a=this.scrollY,o=e.nativeEvent.contentOffset.y,i=wt(n,r);(o<=i||a._value<=i)&&a.setValue(o)}},{key:"_maybeUpdateViewDimensions",value:function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;n===this.state.viewWidth&&r===this.state.viewHeight||this.setState({viewWidth:n,viewHeight:r})}},{key:"_renderBackground",value:function(e){var t=e.fadeOutBackground,n=e.backgroundScrollSpeed,r=e.backgroundColor,o=e.parallaxHeaderHeight,i=e.stickyHeaderHeight,l=e.renderBackground,c=e.outputScaleValue,s=this.state,u=s.viewWidth,d=s.viewHeight,m=this.scrollY,f=wt(o,i);return a.a.createElement(P.a.View,{style:[vt.backgroundImage,{backgroundColor:r,height:o,width:u,opacity:t?Ot(m,{inputRange:[0,.5*f,f*(3/4),f],outputRange:[1,.3,.1,0],extrapolate:"clamp"}):1,transform:[{translateY:Ot(m,{inputRange:[0,f],outputRange:[0,-f/n],extrapolateRight:"extend",extrapolateLeft:"clamp"})},{scale:Ot(m,{inputRange:[-d,0],outputRange:[1.5*c,1],extrapolate:"clamp"})}]}]},a.a.createElement(T.a,null,l()))}},{key:"_renderForeground",value:function(e){var t=e.fadeOutForeground,n=e.parallaxHeaderHeight,r=e.stickyHeaderHeight,o=e.renderForeground,i=this.scrollY,l=wt(n,r);return a.a.createElement(T.a,{style:vt.parallaxHeaderContainer},a.a.createElement(P.a.View,{style:[vt.parallaxHeader,{height:n,opacity:t?Ot(i,{inputRange:[0,.5*l,l*(3/4),l],outputRange:[1,.3,.1,0],extrapolate:"clamp"}):1}]},a.a.createElement(T.a,{style:{height:n}},o())))}},{key:"_wrapChildren",value:function(e,t){var n=this,r=t.contentBackgroundColor,o=t.stickyHeaderHeight,i=t.contentContainerStyle,l=t.renderContentBackground,c=this.state.viewHeight,s=[{backgroundColor:r}];return i&&s.push(i),this.containerHeight=this.state.viewHeight,a.a.Children.forEach(e,(function(e){e&&0!=Object.keys(e).length&&(n.containerHeight=0)})),a.a.createElement(T.a,{style:[s,{minHeight:this.containerHeight}],onLayout:function(e){var t=e.nativeEvent.layout.height,r=Math.max(0,c-t-o);n._footerHeight!==r&&(n._footerComponent.setNativeProps({style:{height:r}}),n._footerHeight=r)}},l(),e)}},{key:"_renderFooterSpacer",value:function(e){var t=this,n=e.contentBackgroundColor;return a.a.createElement(T.a,{ref:function(e){e&&(t._footerComponent=e)},style:{backgroundColor:n}})}},{key:"_maybeRenderStickyHeader",value:function(e){var t=e.parallaxHeaderHeight,n=e.stickyHeaderHeight,r=e.backgroundColor,o=e.renderFixedHeader,i=e.renderStickyHeader,l=this.state.viewWidth,c=this.scrollY;if(i||o){var s=wt(t,n);return a.a.createElement(T.a,{style:[vt.stickyHeader,ht({width:l},n?{height:n}:null)]},i?a.a.createElement(P.a.View,{style:{backgroundColor:r,height:n,opacity:Ot(c,{inputRange:[0,s],outputRange:[0,1],extrapolate:"clamp"})}},a.a.createElement(P.a.View,{style:{transform:[{translateY:Ot(c,{inputRange:[0,s],outputRange:[n,0],extrapolate:"clamp"})}]}},i())):null,o&&o())}return null}}]),r}(r.Component);kt.propTypes=xt,kt.defaultProps={backgroundScrollSpeed:5,backgroundColor:"#000",contentBackgroundColor:"#fff",fadeOutForeground:!0,onChangeHeaderVisibility:function(){},renderScrollComponent:function(e){return a.a.createElement(P.a.ScrollView,e)},renderBackground:Et,renderContentBackground:function(){return a.a.createElement(T.a,{style:{display:"none"}})},renderParallaxHeader:Et,renderForeground:null,stickyHeaderHeight:0,contentContainerStyle:null,outputScaleValue:5};var jt=kt,Ct=n(643),Pt=n(952),Tt=n(95),Rt=n(950),Dt=n(199),Lt=function(e){return e<5?ee.darkRed:e<6.5?ee.orange:e<7.5?ee.yellow:e<8.75?ee.lightGreen:ee.green},It=o.a.create({container:{width:"15%"},score:{fontSize:M,fontFamily:"OpenSans"}}),Ft=function(e){var t=e.percent,n=(e.radius,e.style),r=e.scoreStyle,o=Lt(t.toFixed(1));return a.a.createElement(T.a,{style:[It.container,n]},a.a.createElement(fe.a,{style:[It.score,{color:o},r]},t))},Bt=o.a.create({container:{flexDirection:"row"},name:{width:"85%",paddingRight:ae,fontFamily:"OpenSansSemiBold",fontSize:U,color:ee.extraDarkGray}}),zt=function(e){var t=e.style,n=e.nameStyle,r=e.numberOfLines,o=e.name,i=e.score,l=e.scoreStyle,c=e.scoreRadius;return a.a.createElement(T.a,{style:[Bt.container,t]},a.a.createElement(fe.a,{style:[Bt.name,n],numberOfLines:r},o),i&&"number"===typeof i&&a.a.createElement(Ft,{scoreStyle:l,percent:i,radius:c}))},_t=o.a.create({container:{flexDirection:"row",alignItems:"center"},text:{fontSize:N,marginLeft:ne,marginRight:oe}}),Ht=function(e){var t=e.iconName,n=e.iconSize,r=e.iconColor,o=e.iconFont,i=e.containerStyle,l=e.textStyle,c=e.text;return a.a.createElement(T.a,{style:[_t.container,i]},a.a.createElement(te,{name:t,size:n,color:r,font:o}),a.a.createElement(fe.a,{style:[_t.text,l]},c.toString()))},At=o.a.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},text:{fontSize:N,fontFamily:"OpenSans",color:ee.default},scoretext:{marginLeft:oe,fontSize:N,fontFamily:"OpenSansBold"}}),Gt=function(e){var t=e.ranking,n=e.price,r=e.score,o=e.style,i=e.iconSize,l=e.textStyle,c=7;r&&(c=r.toFixed(1));var s=Lt(c);return a.a.createElement(T.a,{style:[At.container,o]},t&&a.a.createElement(Ht,{iconName:"bar-chart-2",iconSize:i,text:Je.t("rank",{ranking:t}),textStyle:[At.text,l]}),n&&a.a.createElement(fe.a,{style:[At.text,l]},n),r&&a.a.createElement(fe.a,{style:[At.scoretext,{color:s},l]},c))},Mt=o.a.create({container:{flex:1},text:{width:"90%",fontSize:W,fontFamily:"OpenSans",color:ee.default}}),Nt=function(e){var t=e.style,n=e.textStyle,r=e.numberOfLines,o=e.description;return a.a.createElement(T.a,{style:[Mt.container,t]},a.a.createElement(fe.a,{style:[Mt.text,n],numberOfLines:r},o||Je.t("product.noDescription")))};function Wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Vt=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Wt()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).expandTags=function(){t.setState((function(e){return{expandTags:!e.expandTags}}))},t.expandDescription=function(){t.setState((function(e){return{expandDescription:!e.expandDescription}}))},t.getTags=function(){var e=t.props.product.reviews_tags.map((function(e){return e}));return e.sort(),e},t.state={expandDescription:!1,expandTags:!1},t}return w()(r,[{key:"render",value:function(){var e=this.state,t=e.expandDescription,n=(e.expandTags,this.props),r=(n.onShare,n.liked,n.onProductLike,n.product),o=r.categories,i=r.brand,l=r.name,c=r.score,s=r.ranking,u=r.media_score,d=r.sentiment,m=r.price,f=r.body,p=(this.getTags(),"");return o&&o.length&&o[0]&&(p=o[0]+"  |  "),a.a.createElement(T.a,{style:Ut.container},a.a.createElement(T.a,{style:Ut.sectionShareLikeButtonsContainer},a.a.createElement(fe.a,{style:Ut.section},("Skin Care  |  "+p+i).toUpperCase())),a.a.createElement(zt,{style:Ut.marginTopSmall,name:l,nameStyle:Ut.name,scoreStyle:Ut.score,numberOfLines:3,scoreRadius:23}),a.a.createElement(R.a,{onPress:this.expandDescription},a.a.createElement(Nt,{description:f,numberOfLines:t?0:4,style:Ut.marginTopSmall,textStyle:Ut.description})),a.a.createElement(T.a,{style:Ut.rankingBlogSentimentContainer},a.a.createElement(Gt,{ranking:s,media:u,sentiment:d,price:m,score:c}),a.a.createElement(T.a,{style:Ut.shareLikeButtonsContainer})))}}]),r}(r.PureComponent),Ut=o.a.create({container:{padding:ie,paddingBottom:ae,paddingTop:ie,backgroundColor:ee.white,marginBottom:ae},sectionShareLikeButtonsContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},shareLikeButtonsContainer:{flexDirection:"row"},section:{color:ee.red,maxWidth:"80%",fontFamily:"OpenSansBold",fontSize:W},name:{fontSize:Y,fontWeight:"bold"},score:{fontSize:V},description:{fontSize:V},rankingBlogSentimentContainer:{paddingTop:ae,marginTop:ae,flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderTopWidth:1,borderColor:ee.lighterGray},rankingBlogSentiment:{width:"40%",paddingTop:re,paddingBottom:re},rankingBlogSentimentText:{fontSize:N},tagsContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:oe},tag:{marginBottom:re},divider:{backgroundColor:ee.lightGray,height:1,width:"100%",marginTop:ie},marginTopSmall:{marginTop:re}}),qt=Vt,Yt=function(e){return function(t,n){var r,a,o,i,l;return Le.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),a=r.user,o={product_id:e},a.email&&(o.email=a.email),t.next=5,Le.a.awrap(Ne.post("/product",o));case 5:return i=t.sent,l=i.data,t.abrupt("return",l);case 8:case"end":return t.stop()}}),null,null,null,Promise)}},Jt=function(e,t,n){return function(){var r,a,o,i,l;return Le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r={product_id:e},a=[],o=[],t.forEach((function(e){return"number"===typeof e?o.push(e):a.push(e)})),n&&(r.page=n),a.length&&(r.tags=a),o.length&&(r.rating=o),c.next=9,Le.a.awrap(Ne.post("/reviews",r));case 9:return i=c.sent,l=i.data,c.abrupt("return",l);case 12:case"end":return c.stop()}}),null,null,null,Promise)}},Kt=n(32);function Qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Zt=o.a.create({logo:{height:35,width:35},loadingContainer:{flex:1,backgroundColor:"white",justifyContent:"center",alignItems:"center"}}),Xt=function(e){C()(o,e);var t,r=(t=o,function(){var e,n=k()(t);if(Qt()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function o(e){var t;return v()(this,o),(t=r.call(this,e)).rotateValueHolder=new P.a.Value(0),t.state={error:null,loading:!0},t}return w()(o,[{key:"componentDidMount",value:function(){this.startImageRotateFunction()}},{key:"startImageRotateFunction",value:function(){var e=this,t=this.state,n=t.error,r=t.loading;this.rotateValueHolder.setValue(0),P.a.timing(this.rotateValueHolder,{toValue:1,duration:3e3,easing:Kt.a.linear,useNativeDriver:!0}).start((function(){!n&&r&&e.startImageRotateFunction()}))}},{key:"render",value:function(){var e=this.rotateValueHolder.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return a.a.createElement(T.a,{style:Zt.loadingContainer},a.a.createElement(P.a.Image,{style:[Zt.logo,{transform:[{rotate:e}]}],source:n(329)}))}}]),o}(r.PureComponent),$t=n(57);function en(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var tn=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(en()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(){var e;v()(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).scrollToIndex=function(t){var n=e.props.data;return!!e.flatList&&(!(t<=0||t>=n.length-1)&&e.flatList.scrollToIndex({animated:!0,index:t,viewPosition:.5}))},e.itemClicked=function(t,n){var r=e.props.selectedChanged;e.scrollToIndex(n),r(n)},e.renderItem=function(t){var n=t.item,r=t.index,o=e.props,i=o.activeTab,l=o.data[i]===n.toString();return a.a.createElement(T.a,{style:nn.tabContainerStyle},a.a.createElement(je,{text:n,style:l?[nn.unselectedItemStyle,nn.selectedItemStyle]:nn.unselectedItemStyle,textStyle:l?[nn.unselectedTextStyle,nn.selectedTextStyle]:nn.unselectedTextStyle,onPress:function(){return e.itemClicked(n,r)}}),l&&a.a.createElement(T.a,{style:nn.bottomline}))},e.addFlatListRef=function(t){e.flatList=t},e.keyExtractor=function(e){return e.toString()},e}return w()(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.activeTab;e.activeTab!==t&&this.flatList&&this.scrollToIndex(t)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.data,r=e.activeTab;return a.a.createElement(T.a,{style:[nn.container,t]},a.a.createElement($t.a,{ref:this.addFlatListRef,contentContainerStyle:nn.listItemsContainer,horizontal:!0,data:n,extraData:r,showsHorizontalScrollIndicator:!1,renderItem:this.renderItem,keyExtractor:this.keyExtractor}))}}]),r}(r.PureComponent),nn=o.a.create({container:{height:40,alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:ee.white},listItemsContainer:{justifyContent:"flex-start",alignContent:"flex-start",alignItems:"center",flex:1},tabViewContainer:{flex:1,paddingBottom:50},unselectedItemStyle:{backgroundColor:ee.white,paddingHorizontal:oe,height:38},selectedItemStyle:{backgroundColor:ee.white},unselectedTextStyle:{color:ee.categoriesLightGray,fontFamily:"OpenSansSemiBold",fontSize:W},selectedTextStyle:{color:ee.categoriesGray,fontWeight:"bold"},bottomline:{backgroundColor:ee.categoriesGray,height:2},tabContainerStyle:{justifyContent:"flex-start",backgroundColor:"white",maxHeight:40}}),rn=tn,an=n(41),on=n(35),ln=n.n(on),cn=o.a.create({container:{justifyContent:"center",borderRadius:20,paddingLeft:ae,paddingRight:ae,paddingTop:re,paddingBottom:re},text:{fontFamily:"OpenSansBold",fontSize:W,fontWeight:"bold"},selectedItemStyle:{backgroundColor:ee.lighterGray},unselectedItemStyle:{backgroundColor:ee.red},selectedTextStyle:{color:ee.extraDarkGray},unselectedTextStyle:{color:ee.white}}),sn=function(e){var t=e.isSelected,n=e.text,r=e.onPress;return a.a.createElement(R.a,{onPress:r,style:t?[cn.container,cn.selectedItemStyle]:[cn.container,cn.unselectedItemStyle]},a.a.createElement(fe.a,{style:t?[cn.text,cn.selectedTextStyle]:[cn.text,cn.unselectedTextStyle]},n))};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t){return t.modified-e.modified}function fn(e,t){var n,r,a,o,i,l;return Le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n=Te.collection("lists"),r=n.where("owner","==",t),c.next=5,Le.a.awrap(r.get({source:"server"}));case 5:for(i in a=c.sent,o=[],a.forEach((function(e){return o[e.id]=dn({},e.data(),{id:e.id})})),o)o[i].items&&(o[i].items=o[i].items.reverse());l={},Object.values(o).sort(mn).forEach((function(e){return l[e.id]=e})),e({type:"update_lists",payload:l}),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),console.log(c.t0);case 18:case"end":return c.stop()}}),null,null,[[0,15]],Promise)}var pn=function(e){return function(t){return Le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:fn(t,e);case 1:case"end":return n.stop()}}),null,null,null,Promise)}},gn=function(e,t,n){return function(r){try{var a={items:t?[t]:[],owner:e,isPublic:n.isPublic,description:n.description,name:n.name,type:n.type,modified:Date.now()};Te.collection("lists").doc().set(a),fn(r,e)}catch(o){console.log(o.message)}}},yn=function(e,t){return function(n){try{var r=Te.collection("lists").doc(e),a=Date.now();r.update({items:Re.firestore.FieldValue.arrayUnion(t),modified:a}),n({type:"add_to_list",payload:{item:t,listId:e,modified:a}})}catch(o){console.log(o.message)}}},hn=function(e,t){return function(n){try{var r=Te.collection("lists").doc(e),a=Date.now();r.update({items:Re.firestore.FieldValue.arrayRemove(t),modified:a}),n({type:"remove_from_list",payload:{item:t,listId:e,modified:a}})}catch(o){console.log(o.message)}}},bn=function(e){var t=e.h,n=e.v,r=e.f,o=e.l,i=e.style,l=o?{borderBottomWidth:1,borderColor:ee.lighterGray}:{};return a.a.createElement(T.a,{style:[{paddingLeft:t,paddingTop:n,flex:r},l,i]})},vn=o.a.create({modal:{margin:0,flex:1,display:"flex",justifyContent:"center",flexDirection:"row",backgroundColor:"#555"},modalContentContainer:{maxHeight:500,backgroundColor:"white",borderTopStartRadius:ae,borderTopEndRadius:ae,padding:15,paddingTop:0,display:"flex",justifyContent:"center",margin:0},name:{fontFamily:"Roboto_medium",fontSize:Y,color:ee.darkGray,paddingTop:0,paddingBottom:10,textAlign:"center"},actionsSection:{justifyContent:"flex-end",flexDirection:"row",borderTopColor:ee.lightGray,borderTopWidth:1,paddingTop:15,marginTop:20,marginBottom:"ios"===d.a.OS?10:5},submitButton:{backgroundColor:ee.red,height:35,borderRadius:3,flex:1},submitButtonText:{color:ee.white,fontFamily:"Roboto"}}),Sn=function(e){var t=e.visible,n=e.name,r=e.children,o=e.actionText,i=e.actionIcon,l=e.onClose,c=e.onSubmit,s={visible:t,onBackButtonPress:l,onBackdropPress:l,style:vn.modal,avoidKeyboard:!0};return a.a.createElement(Ee,{options:s},a.a.createElement(T.a,{style:vn.modalContentContainer},a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(ue,{iconName:"close",iconFont:"MaterialIcons",iconSize:20,onPress:l}),a.a.createElement(bn,{style:{flex:1}}),i||null),a.a.createElement(fe.a,{style:vn.name},n),r,o?a.a.createElement(T.a,{style:vn.actionsSection},a.a.createElement(je,{style:vn.submitButton,textStyle:vn.submitButtonText,onPress:c,text:o})):null))},wn=o.a.create({listEmpty:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:20,backgroundColor:"white"},listEmptyMessage:{color:ee.darkGray,fontFamily:"OpenSans",fontSize:V,textAlign:"center"}}),En=function(e){var t=e.text;return a.a.createElement(T.a,{style:wn.listEmpty},a.a.createElement(fe.a,{style:wn.listEmptyMessage},t))},On=n(110);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=function(e){var t=e.list,n=e.user,o=e.onSubmit,i=e.item,l=e.listType,u=Object(c.c)(),d={name:"",description:"",isPublic:!0,type:null,error:null},m=Object(r.useState)(d),f=ln()(m,2),p=f[0],g=f[1];Object(r.useEffect)((function(){g(t?kn({},t):d)}),[t]);return a.a.createElement(T.a,{style:Cn.content},a.a.createElement(ge.a,null,a.a.createElement(fe.a,{style:Cn.label},"List name"),a.a.createElement(pe.a,{style:[Cn.input,{minHeight:30}],onChangeText:function(e){return g(kn({},p,{name:e,error:null}))},value:p.name}),a.a.createElement(fe.a,{style:we.error},p.error?p.error:null),a.a.createElement(fe.a,{style:Cn.label},"Description"),a.a.createElement(pe.a,{style:[Cn.input,{height:60}],onChangeText:function(e){return g(kn({},p,{description:e}))},value:p.description,multiline:!0}),a.a.createElement(T.a,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(fe.a,{style:[Cn.label,{flex:1}]},"Make private"),a.a.createElement(On.a,{value:!p.isPublic,onValueChange:function(){return g(kn({},p,{isPublic:!p.isPublic}))},trackColor:{true:ee.gray,false:ee.lightGray},thumbColor:[ee.white],ios_backgroundColor:"#fbfbfb"})),a.a.createElement(T.a,{style:Cn.actionsSection},a.a.createElement(je,{style:Cn.submitButton,textStyle:Cn.submitButtonText,onPress:function(){var e;p.name&&""!==p.name?(t?(u(function(e,t){return function(e){var n;return Le.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{n={isPublic:t.isPublic,description:t.description,name:t.name,type:t.type,modified:Date.now()},e({type:"new_list",payload:dn({},t,{},n)}),Te.collection("lists").doc(t.id).update(n)}catch(a){console.log(a.message)}case 1:case"end":return r.stop()}}),null,null,null,Promise)}}(n.uid,p)),e=p.name+" updated"):(p.type=l,u(gn(n.uid,i,p)),e=p.name+" created"),setTimeout((function(){s.Toast.show({text:e,buttonText:"Okay",duration:2e3})}),500),o()):g(kn({},p,{error:"You are missing the list name!"}))},text:t?"Save List":"Create List"}))))},Cn=o.a.create({content:{padding:10,paddingBottom:0},input:{textAlignVertical:"top",borderRadius:ae,backgroundColor:ee.lighterGray,color:ee.darkGray,fontFamily:"OpenSans",fontSize:V,padding:oe,marginBottom:10},label:{fontFamily:"OpenSansSemiBold",fontSize:V,color:ee.black,paddingBottom:5,marginLeft:5},actionsSection:{justifyContent:"flex-end",flexDirection:"row",borderTopColor:ee.lightGray,borderTopWidth:1,paddingTop:15,marginTop:20,marginBottom:"ios"===d.a.OS?10:5},submitButton:{backgroundColor:ee.red,height:35,borderRadius:3,flex:1},submitButtonText:{color:ee.white,fontFamily:"OpenSansSemiBold"}});function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t){return t.modified-e.modified}var Dn=o.a.create({content:{padding:10,paddingBottom:0,maxHeight:"70%"},list:{padding:10},selection:{flexDirection:"row",alignItems:"center"},text:{flex:1,padding:re,paddingTop:0},name:{fontFamily:"OpenSansBold",fontSize:V,color:ee.extraDarkGray},label:{fontFamily:"OpenSans",fontSize:M,color:ee.darkGray}}),Ln=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.visible,o=e.type,i=e.item,l=e.onClose,s=e.onAdd,u=e.onDelete,d=Object(r.useState)({step:0,sort:!0,ordered:[]}),m=ln()(d,2),f=m[0],p=m[1],g=Object(c.d)((function(e){return e.user})),y=Object(c.d)((function(e){return e.Lists})),h=g.isLoggedIn&&y?Object.values(y):null,b=h?h.filter((function(e){return e.type===o})):[];if(f.sort&&b.length>0){var v=(b=b.sort(Rn)).map((function(e){return e.id}));p(Tn({},f,{sort:!1,ordered:v}))}Object(r.useEffect)((function(){!n&&p(Tn({},f,{sort:!0}))}),[n]),f&&f.ordered&&b.length>0&&(b=f.ordered.map((function(e){return y[e]})));var S=a.a.createElement(En,{text:Je.t("lists.noLists")}),w=o?o.substring(0,1).toUpperCase()+o.substring(1,o.length-1):"";b=b.map((function(e){return{id:e.id,name:e.name,inList:!!e.items.find((function(e){return e._id===i._id})),size:e.items.length}}));var E=function(e){e.inList?u(e.id,i):s(e.id,i)},O=function(){p({step:0}),l()};return a.a.createElement(Sn,{visible:n,name:0===f.step?"Add to "+o+" list":"New "+o+" list",onClose:O,actionText:0===f.step?"Create New List":null,onSubmit:function(){g.isLoggedIn?p({step:1}):(t.navigate("Auth"),O())}},0===f.step?a.a.createElement(T.a,{style:Dn.content},a.a.createElement($t.a,{data:b,keyExtractor:function(e){return e.id},ListEmptyComponent:S,renderItem:function(e){var t=e.item;return a.a.createElement(R.a,{onPress:function(){return E(t)}},a.a.createElement(T.a,{style:[Dn.list,t.inList?{backgroundColor:ee.extraLightGray}:{}]},a.a.createElement(T.a,{style:[Dn.selection]},a.a.createElement(T.a,{style:Dn.text},a.a.createElement(fe.a,{style:Dn.name},t.name),a.a.createElement(fe.a,{style:Dn.label},t.size+" "+w+(1===t.size?"":"s"))),a.a.createElement(ue,{iconFont:(t.inList,"Ionicons"),iconSize:20,iconColor:t.inList?ee.green:ee.darkGray,onPress:function(){return E(t)},iconName:t.inList?"md-checkmark-circle-outline":"md-add"}),a.a.createElement(bn,{h:10}))))},scrollEnabled:!0,contain:!0})):a.a.createElement(jn,{onSubmit:O,user:g,item:i,listType:o}))}));function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fn,Bn=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.author,o=e.hideAddList,i=e.addModal,l=e.listId,s=e.hideDelete,u=Object(c.c)(),d=Object(c.d)((function(e){return e.user})),m=Object(c.d)((function(e){return e.Lists})),f=Object(r.useState)({visible:!1}),p=ln()(f,2),g=p[0],y=p[1],b=d.isLoggedIn&&m?Object.values(m):null,v=b?b.find((function(e){return"following"===e.type})):null,S=b?b.filter((function(e){return"influencers"===e.type})):null,w=S?S.filter((function(e){return e.items.find((function(e){return e._id===n._id}))})).length:0,E=v&&v.items.find((function(e){return e._id===n._id})),O=function(e,t){u(yn(e,t))},x=function(e,t){u(hn(e,t))};return a.a.createElement(T.a,{style:{flexDirection:"row",alignItems:"center"}},i?a.a.createElement(Ln,{visible:g.visible,item:g.item,type:g.type,onClose:function(){return y({visible:!1})},onAdd:O,onDelete:x}):null,a.a.createElement(sn,{text:E?"Following":"Follow",isSelected:E,onPress:function(){var e;return Le.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:d.isLoggedIn?v&&!E?O(v.id,n):v&&E?x(v.id,n):v||(e={isPublic:!0,description:"This is your main list of influencers",name:"Following",type:"following"},u(gn(d.uid,n,e))):t.navigate("Auth");case 1:case"end":return r.stop()}}),null,null,null,Promise)}}),s?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(bn,{h:4}),a.a.createElement(ue,{iconFont:"MaterialCommunityIcons",iconSize:20,iconColor:ee.darkGray,onPress:function(){return x(l,n)},iconName:"delete-outline"})),o?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(bn,{h:8}),a.a.createElement(sn,{text:"Add to list",isSelected:w>0,onPress:function(){y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g,{visible:!0,item:n,type:"influencers"}))}})))})),zn=function(e){var t=e.large,n=e.data;return a.a.createElement(T.a,{style:_n.container},a.a.createElement(T.a,{style:[_n.imageContainer,t?{paddingRight:5}:{}]},n.image&&a.a.createElement(dt.a,{resizeMode:"cover",style:t?_n.imageLarge:_n.image,source:{uri:n.image}})),a.a.createElement(T.a,{style:n.image?_n.nameFollowersContainer:{}},a.a.createElement(T.a,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(fe.a,{numberOfLines:2,style:t?_n.nameLarge:_n.name},n.name),a.a.createElement(bn,{h:5}),n.channelId?a.a.createElement(te,{name:"youtube",font:"FontAwesome",size:V,color:ee.gray}):null),a.a.createElement(fe.a,{style:t?_n.followersLarge:_n.followers},n.text),t?a.a.createElement(T.a,{style:{marginTop:ae}},a.a.createElement(Bn,{author:n,addModal:!0,hideDelete:!0})):null))},_n=o.a.create({container:{flexDirection:"row",paddingRight:oe},imageContainer:{alignItems:"center",justifyContent:"center",paddingRight:0},image:{width:30,height:30,borderRadius:30,borderWidth:1,borderColor:ee.lightGray},imageLarge:{width:80,height:80,borderRadius:40,borderWidth:2,borderColor:ee.lightGray},nameFollowersContainer:{marginLeft:ae,flex:1},nameLarge:{color:ee.darkGray,fontWeight:"bold",marginRight:re,fontSize:K},followersLarge:{fontSize:V,fontFamily:"Roboto",color:ee.gray},name:{color:ee.darkGray,fontWeight:"bold",marginRight:re},followers:{fontSize:M,color:ee.gray,fontFamily:"Roboto"}});function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t){Fn.dispatch(f.NavigationActions.navigate({routeName:e,params:t}))}function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gn("WebViewModal",An({},t,{url:e})),Ne.post("/webview",n)}function Nn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Wn=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Nn()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(){var e;v()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).openWebView=function(){var t=e.props,n=t.videoLink,r=t.title;Mn(n+"?mute=0&rel=0&autoplay=0&showinfo=0&controls=0",{title:r},{type:"video",title:r})},e}return w()(r,[{key:"render",value:function(){var e=this.props.image;return a.a.createElement(an.a,{onPress:this.openWebView},a.a.createElement(T.a,null,a.a.createElement(dt.a,{resizeMode:"cover",style:Vn.image,source:{uri:e}}),a.a.createElement(T.a,{style:Vn.iconContainer},a.a.createElement(te,{name:"youtube-play",size:50,color:e.includes("live.jpg")?ee.red:ee.transparentWhite,font:"FontAwesome"}))))}}]),r}(r.PureComponent),Vn=o.a.create({container:{},image:{width:"100%",aspectRatio:16/9,marginTop:ae},iconContainer:{width:"100%",height:"100%",position:"absolute",justifyContent:"center",alignItems:"center"}}),Un=Wn,qn=o.a.create({container:{height:m.a.get("screen").height-170,marginBottom:50},videoContainer:{marginBottom:re,padding:oe,backgroundColor:ee.white},section:{fontFamily:"OpenSansBold",fontSize:N,color:ee.red},date:{fontSize:M,fontFamily:"Roboto",color:ee.categoriesLightGray},title:{marginTop:ae,color:ee.darkGray,fontFamily:"Roboto",fontSize:q,fontWeight:"bold"},description:{marginTop:ae,fontFamily:"OpenSans",fontSize:V,color:ee.darkGray},image:{width:"100%",height:200,marginTop:ae},relatedItemsList:{flexDirection:"row",marginTop:15},relatedItemContainer:{backgroundColor:ee.lightGray,padding:5,flexDirection:"row",alignContent:"center",justifyContent:"center",marginRight:15},iconContainer:{flex:1,marginLeft:10,alignItems:"center",justifyContent:"center"},linkLabel:{fontSize:W}});function Yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Jn=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Yn()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).errorLoadingImage=function(e){t.props.item;t.setState({imageError:!0})},t.navigateToAuthor=function(e){var n=t.props.navigation;n.navigate("Author",{author:e,fromRoute:n.state.routeName})},t.state={imageError:!1},t}return w()(r,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.item,o=n.index,i=n.hideImage,l=this.state.imageError,c=r.title,s=r.author,u=r.summary,d=r.image,m=r.link,f=function(e){if(!e)return null;var t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth(),o=t.getDate()-n.getDate(),i=t.getHours()-n.getHours(),l=t.getMinutes()-n.getMinutes(),c=t.getSeconds()-n.getSeconds();return r>0?r+" "+(r>1?Je.t("years"):Je.t("year")):a>0?a+" "+(a>1?Je.t("months"):Je.t("month")):o>0?o+" "+(o>1?Je.t("days"):Je.t("day")):i>0?i+" "+(i>1?Je.t("hours"):Je.t("hour")):l>0?l+" "+(l>1?Je.t("minutes"):Je.t("minute")):c+" "+(c>1?Je.t("seconds"):Je.t("second"))}(r.date),p=!!m&&m.includes("youtube");return a.a.createElement(T.a,{style:qn.videoContainer,key:o+"-"+(e=c,e.replace(" ","-").toLowerCase())},a.a.createElement(fe.a,{style:qn.date},f),s&&s.name&&s.link&&a.a.createElement(an.a,{onPress:function(){return t.navigateToAuthor(s)}},a.a.createElement(T.a,null,a.a.createElement(zn,{data:s}))),a.a.createElement(fe.a,{style:qn.title},c),a.a.createElement(fe.a,{style:qn.description},u),p?a.a.createElement(Un,{image:d,videoLink:m,title:c}):d&&!i&&!l&&a.a.createElement(dt.a,{style:qn.image,source:{uri:d},onError:this.errorLoadingImage}))}}]),r}(r.PureComponent),Kn=Object(f.withNavigation)(Jn),Qn=n(630),Zn=n(18),Xn=n.n(Zn),$n=o.a.create({container:{paddingTop:ae,paddingHorizontal:ie},commentContainer:{marginBottom:re,paddingTop:ae,paddingBottom:ae,backgroundColor:ee.white,paddingHorizontal:oe},authorContainer:{},author:{marginTop:ae,color:ee.darkGray,fontFamily:"Roboto",fontSize:q,fontWeight:"bold"},date:{fontSize:M,fontFamily:"Roboto",color:ee.categoriesLightGray},source:{fontFamily:"OpenSans",fontSize:N,color:ee.defaultTransparent},comment:{marginTop:ae,fontFamily:"OpenSans",fontSize:V,color:ee.darkGray},highlight:{marginTop:ae,fontFamily:"OpenSans",fontSize:V,color:ee.black,fontWeight:"800"},iconStyle:{color:"#ffd700",fontSize:18},ratingContainer:{flexDirection:"row",justifyContent:"flex-start",marginTop:10}}),er=function(e){for(var t=e.item,n=e.selectedTags,r=t.date,o=t._id,i=t.text,l=t.title,c=t.rating,u=Xn()(r).fromNow(),d=[],m=1;m<=c;m+=1)d.push(a.a.createElement(s.Icon,{key:o+"-"+m,name:"star",type:"FontAwesome",style:[$n.iconStyle,{marginLeft:1===m?0:5}]}));return a.a.createElement(T.a,{style:$n.commentContainer,key:"comment-"+o},a.a.createElement(fe.a,{style:$n.date},u),a.a.createElement(T.a,{style:$n.ratingContainer},d),l?a.a.createElement(T.a,{style:$n.authorContainer},a.a.createElement(fe.a,{style:$n.author},l)):null,a.a.createElement(Qn.a,{autoEscape:!0,textToHighlight:i,style:$n.comment,searchWords:n,highlightStyle:$n.highlight}))},tr=o.a.create({emptyContainer:{padding:10,backgroundColor:"#fff"},headerContainer:{backgroundColor:"#ffffff",minHeight:30,paddingVertical:5,paddingHorizontal:15},tagStyle:{minWidth:30,marginRight:3,borderRadius:20},flatList:{flex:1,paddingVertical:5,marginHorizontal:15,backgroundColor:"#ffffff",overflow:"hidden"},emptyText:{textAlign:"center"}});function nr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var rr=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(nr()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(){var e;v()(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).onPress=function(t){var n=e.props.onItemPress;n&&n(t)},e.renderItem=function(t){var n=t.item,r=e.props,o=r.selectedTags,i=r.selectedItemStyle,l=r.unselectedItemStyle,c=r.selectedTextStyle,u=r.unselectedTextStyle,d=!!o.find((function(e){return e.value||n.value?e.value===n.value:e===n}));return n.icon?a.a.createElement(R.a,{onPress:function(){return e.onPress(n)}},a.a.createElement(T.a,{style:d?[ar.selectedIconItemStyle,i]:[ar.unselectedIconItemStyle,l]},a.a.createElement(fe.a,{style:d?[ar.selectedTextStyle,c]:[ar.unselectedTextStyle,u]},n.name),a.a.createElement(s.Icon,n.icon))):a.a.createElement(je,{text:n.name||n,style:d?[ar.selectedItemStyle,i]:[ar.unselectedItemStyle,l],textStyle:d?[ar.selectedTextStyle,c]:[ar.unselectedTextStyle,u],onPress:function(){return e.onPress(n)}})},e}return w()(r,[{key:"render",value:function(){var e=this.props,t=e.tags,n=e.selectedTags,r=e.style;return a.a.createElement(T.a,{style:[ar.container,r]},a.a.createElement($t.a,{contentContainerStyle:ar.listItemsContainer,keyExtractor:function(e){return(e.value||e)+"-tag"},horizontal:!0,showsHorizontalScrollIndicator:!1,data:t,extraData:n,renderItem:this.renderItem}))}}]),r}(r.PureComponent),ar=o.a.create({container:{height:40,justifyContent:"center",backgroundColor:ee.white},listItemsContainer:{alignItems:"center"},unselectedItemStyle:{minWidth:60,borderRadius:20,paddingLeft:ae,paddingRight:ae,paddingTop:re,paddingBottom:re},unselectedIconItemStyle:{minWidth:60,borderRadius:20,paddingLeft:ae,paddingRight:ae,paddingTop:re,paddingBottom:re,flexDirection:"row"},selectedItemStyle:{minWidth:60,borderRadius:20,paddingLeft:ae,paddingRight:ae,paddingTop:re,paddingBottom:re,backgroundColor:ee.lighterGray},selectedIconItemStyle:{minWidth:60,borderRadius:20,paddingLeft:ae,paddingRight:ae,paddingTop:re,paddingBottom:re,backgroundColor:ee.lighterGray,flexDirection:"row"},unselectedTextStyle:{color:ee.categoriesLightGray,fontFamily:"OpenSansSemiBold",fontSize:W,fontWeight:"500"},selectedTextStyle:{fontFamily:"OpenSansBold",fontSize:W,color:ee.categoriesGray,fontWeight:"bold"}}),or=rr;function ir(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var lr=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(ir()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).selectTag=function(e){var n=t.state.selectedTags;return n.find((function(t){return e.value===t}))?t.setState({selectedTags:n.filter((function(t){return t!==e.value}))}):t.setState({selectedTags:[].concat(ut()(n),[e.value])})},t.getItemTags=function(){var e=t.props.product;t.setState({tags:[5,4,3,2,1].concat(ut()(e.reviews_tags))})},t.renderItem=function(e){var n=e.item,r=e.index;switch(t.props.category){case"comments":return a.a.createElement(er,{item:n,selectedTags:t.getTagsToHighlight()});default:return a.a.createElement(Kn,{item:n,index:r})}},t.getTagsToHighlight=function(){return t.state.selectedTags.reduce((function(e,t){return"string"===typeof t&&e.push(t),e}),[])},t.convertTagsToObject=function(e){return e.map((function(e){var t={name:e,value:e};return"number"===typeof e&&(t.icon={name:"star",style:{color:"#ffd700",fontSize:18,marginLeft:5},type:"FontAwesome"}),t}))},t.renderHeader=function(){var e=t.state,n=e.tags,r=e.selectedTags,o=t.convertTagsToObject(n),i=t.convertTagsToObject(r);return a.a.createElement(or,{tags:o,selectedTags:i,onItemPress:t.selectTag,selectedItemStyle:tr.tagStyle,unselectedItemStyle:tr.tagStyle,style:tr.headerContainer})},t.keyExtractor=function(e,t){return e._id+"-"+t},t.setMainFlatListRef=function(e){t.mainFlatList=e},t.state={tags:[],selectedTags:[]},t}return w()(r,[{key:"componentDidMount",value:function(){this.getItemTags()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.product,a=n.onSelectedTagsChange,o=n.category,i=this.state.selectedTags,l=e.product,c=e.category,s=t.selectedTags;r._id!==l._id&&this.getItemTags(),i.length!==s.length&&a(i),o!==c&&this.mainFlatList&&this.mainFlatList.scrollToOffset({x:0,y:0,animated:!0})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.refreshing,r=e.onRefresh,o=e.refreshControl,i=e.category,l={content:t,category:i};return a.a.createElement(a.a.Fragment,null,"comments"===i?this.renderHeader():null,a.a.createElement($t.a,{ref:this.setMainFlatListRef,data:t,extraData:l,renderItem:this.renderItem,keyExtractor:this.keyExtractor,refreshing:n,onRefresh:r,refreshControl:o,ListEmptyComponent:a.a.createElement(T.a,{style:tr.emptyContainer},n?null:a.a.createElement(fe.a,{style:tr.emptyText},Je.t("product.noContent")))}))}}]),r}(r.PureComponent);function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var dr=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(ur()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).scrollAnimationListener=function(e){var n=e.value;return t.scrollAnimValue=n,t.scrollAnimValue},t.willFocusListener=function(){var e=t.props.navigation,n=t.state.productId,r=e.getParam("productId",null);r!==n&&t.getProductData(r)},t.handleLoadMoreContent=function(){var e,n,r,a,o,i,l,c,u,d,m,f;return Le.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(e=t.props.getProductComments,n=t.state,r=n.productId,a=n.content,o=n.selectedCategory,i=n.selectedTags,l=n.isContentLast,c=n.page,u=n.nextContentLoading,p.prev=2,!l&&!u){p.next=5;break}return p.abrupt("return");case 5:if(d=o.value,m=o.name,t.setState({nextContentLoading:!0}),f=[],"comments"!==d){p.next=12;break}return p.next=11,Le.a.awrap(e(r,i,c+1));case 11:f=p.sent;case 12:if(f&&f.length){p.next=16;break}return s.Toast.show({text:Je.t("product.reachedEnd",{category:m})}),t.setState({isContentLast:!0}),p.abrupt("return");case 16:t.setState({page:c+1,content:[].concat(ut()(a),ut()(f))}),p.next=21;break;case 19:p.prev=19,p.t0=p.catch(2);case 21:return p.prev=21,t.setState({nextContentLoading:!1}),p.finish(21);case 24:case"end":return p.stop()}}),null,null,[[2,19,21,24]],Promise)},t.getProductData=function(e){var n,r,a,o,i,l,c,u,d,m,f;return Le.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.props,r=n.getProductDetails,a=n.getProductComments,o=n.navigation,i=t.state.categories,p.prev=2,t.setState({loading:!0}),c=(l=i).map((function(t){if("comments"===t.value)return a(e,[],0)})),t.setState({loading:!0}),p.next=9,Le.a.awrap(Promise.all([r(e)].concat(ut()(c))));case 9:if(u=p.sent,d=ct()(u),m=d[0],f=d.slice(1),m){p.next=15;break}throw new Error(Je.t("product.notFound"));case 15:return l=l.map((function(e,t){return sr({},e,{count:f[t].length,content:f[t]})})).filter((function(e){return e.count>0})),p.abrupt("return",t.setState({product:m,content:l.length?l[0].content:[],selectedIndex:0,selectedCategory:l[0],categories:l}));case 19:return p.prev=19,p.t0=p.catch(2),s.Toast.show({text:p.t0.message||Je.t("product.notFound")}),p.abrupt("return",o.pop());case 23:return p.prev=23,t.setState({loading:!1}),p.finish(23);case 26:case"end":return p.stop()}}),null,null,[[2,19,23,26]],Promise)},t.isProductLiked=function(e){},t.onProductLike=function(e,t){},t.onShare=function(){t.state.product;mt.a.share({title:Je.t("shareTitle"),message:Je.t("shareMessage")}).then(t.onShareSuccess).catch(t.onShareError)},t.onShareSuccess=function(){s.Toast.show({text:Je.t("shareSuccess")})},t.onShareError=function(){s.Toast.show({text:Je.t("shareError")})},t.changeSelectedTab=function(e){var n=t.state.categories;t.setState({selectedIndex:e,selectedCategory:n[e],content:n[e].content,page:0,isContentLast:!1})},t.selectTag=function(e){t.setState({content:[]},(function(){t.setState({selectedTags:e,page:0},t.loadContent)}))},t.loadContent=function(){var e,n,r,a,o,i,l;return Le.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=t.props.getProductComments,n=t.state,r=n.productId,a=n.selectedCategory,o=n.selectedTags,i=a.value,c.prev=3,t.setState({contentLoading:!0}),l=[],"comments"!==i){c.next=10;break}return c.next=9,Le.a.awrap(e(r,o,0));case 9:l=c.sent;case 10:l&&l.length||(l=[]),t.setState({content:l,isContentLast:!l.length}),c.next=16;break;case 14:c.prev=14,c.t0=c.catch(3);case 16:return c.prev=16,t.setState({contentLoading:!1}),c.finish(16);case 19:case"end":return c.stop()}}),null,null,[[3,14,16,19]],Promise)},t.renderTopTabs=function(){var e=t.state,n=e.selectedIndex,r=e.categories.map((function(e){return e.name}));return a.a.createElement(T.a,null,a.a.createElement(rn,{style:mr.tabsStyle,data:r,selectedChanged:t.changeSelectedTab,activeTab:n}))},t.renderContent=function(){var e=t.state,n=e.content,r=e.contentLoading,o=e.product,i=e.selectedCategory;return a.a.createElement(lr,{content:n,refreshing:r,onRefresh:t.loadContent,product:o,refreshControl:r?a.a.createElement(T.a,{style:{flex:1,backgroundColor:"white"}},a.a.createElement(Xt,null)):null,category:i.value,onSelectedTagsChange:t.selectTag})},t.renderStickyHeader=function(e,n){var r=t.state.product;return r?a.a.createElement(T.a,{style:[mr.headerContainer,{paddingTop:n}]},a.a.createElement(P.a.Text,{style:[mr.headerTitle,{opacity:e}],numberOfLines:1},r.name)):null},t.renderBackground=function(){var e=t.state,n=e.backgroundColor,r=e.product;return r?a.a.createElement(T.a,{style:[mr.imageContainer,{backgroundColor:n}]},a.a.createElement(dt.a,{source:{uri:r.img},style:mr.image}),a.a.createElement(Pt.a,{colors:["rgba(255,255,255,0)","rgba(16,16,16,0.56)","rgba(0,0,0,0.76)"],locations:[0,.78,1],style:mr.gradient})):null},t.onScrollBeginDrag=function(){},t.onMomentumScrollEnd=function(e){var n=e.nativeEvent,r=n.layoutMeasurement,a=n.contentOffset,o=n.contentSize;r.height+a.y>=o.height-r.height/2&&t.handleLoadMoreContent()},t.computeHeaderHeight=function(e){var t=Ct.a.HEIGHT+e;return"ios"===d.a.OS?t-20:t},t.state={page:0,isContentLast:!1,backgroundColor:ee.white,productId:null,product:null,loading:!0,contentLoading:!1,nextContentLoading:!1,selectedIndex:0,categories:[{value:"comments",name:Je.t("comments")}],selectedTags:[],selectedCategory:null,content:[]},t.scrollAnim=new P.a.Value(0),t}return w()(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.product,a=ee.white,o=null;return r&&r.img&&(a=(n=r.img)&&n.includes(".png")?ee.randomColors[Math.floor(Math.random()*ee.randomColors.length)]:ee.white),r&&(o=r._id),{backgroundColor:a,productId:o}}}]),w()(r,[{key:"componentDidMount",value:function(){var e=this.props.navigation;this.navListener=e.addListener("willFocus",this.willFocusListener),this.scrollAnim.addListener(this.scrollAnimationListener)}},{key:"componentWillUnmount",value:function(){this.navListener.remove(),this.scrollAnim.removeAllListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.backgroundColor,r=t.product,o=t.loading,i=t.productId,l=this.scrollAnim.interpolate({inputRange:[270,320],outputRange:[0,1],extrapolate:"clamp"});if(o)return a.a.createElement(T.a,{style:mr.activityIndicatorContainer},a.a.createElement(Xt,null));var c=this.isProductLiked(i);return a.a.createElement(u.a,{style:mr.flex1},(function(t){return a.a.createElement(T.a,{style:we.container},a.a.createElement(T.a,{style:we.subContainer},a.a.createElement(jt,{showsVerticalScrollIndicator:!1,style:[mr.flex1,{backgroundColor:"white",paddingBottom:t.bottom}],backgroundColor:n,stickyHeaderHeight:e.computeHeaderHeight(t.top),renderStickyHeader:function(){return e.renderStickyHeader(l,t.top)},parallaxHeaderHeight:280,renderBackground:e.renderBackground,onScroll:P.a.event([{nativeEvent:{contentOffset:{y:e.scrollAnim}}}]),scrollEventThrottle:500,onScrollBeginDrag:e.onScrollBeginDrag,onMomentumScrollEnd:e.onMomentumScrollEnd},a.a.createElement(T.a,{style:mr.container},a.a.createElement(qt,{product:r,liked:c,backgroundColor:n,onProductLike:function(){return e.onProductLike(r,c)},onShare:e.onShare}),e.renderTopTabs(),e.renderContent()))))}))}}]),r}(r.PureComponent);dr.navigationOptions={headerTransparent:!0,title:null};var mr=o.a.create({flex1:{flex:1,display:"flex",justifyContent:"center",flexDirection:"row"},container:{backgroundColor:ee.lightGray},activityIndicatorContainer:{flex:1,alignItems:"center",justifyContent:"center",paddingVertical:15,backgroundColor:"white"},imageContainer:{height:280,width:"100%",alignItems:"center"},image:{width:"50%",height:280,marginTop:40},gradient:{position:"absolute",bottom:0,width:"100%",height:80,opacity:.35},headerContainer:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",paddingLeft:ce,paddingRight:ie,borderBottomWidth:1,borderColor:ee.lightGray},headerTitle:{fontFamily:"OpenSansBold",fontSize:Y,color:ee.extraDarkGray},tabsStyle:{flex:1,justifyContent:"flex-start",backgroundColor:"white",maxHeight:40,paddingHorizontal:15,borderColor:"#ddd",borderBottomWidth:o.a.hairlineWidth},refreshContainer:{alignItems:"center",paddingVertical:15,backgroundColor:"#fff"}});var fr=Object(c.b)((function(e){return{User:e.user}}),(function(e){return Object(Tt.b)({getProductDetails:Yt,getProductComments:Jt},e)}))(dr),pr=n(946);function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hr={},br=function(){return function(e){var t,n;return Le.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Le.a.awrap(Ne.get("/meta"));case 3:t=r.sent,n=t.data,e({type:"get_meta",payload:n}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),alert("Query to server is faild: "+r.t0.message+" (may be error of CORS)"),console.log(r.t0.message);case 12:case"end":return r.stop()}}),null,null,[[0,8]],Promise)}};function vr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Sr=function(e){C()(o,e);var t,r=(t=o,function(){var e,n=k()(t);if(vr()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function o(e){var t;return v()(this,o),(t=r.call(this,e)).postInitialization=function(){var e,n,r,a;return Le.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=t.props,n=e.navigation,r=e.user,i=d.a.OS,Ae=i,r.isLoggedIn)try{a=t.props.getUserLists,Ge(r.email),a(r.uid)}catch(l){console.log(l.message)}return t.setState({initializing:!1}),o.abrupt("return",n.navigate("Root"));case 5:case"end":return o.stop()}var i}),null,null,null,Promise)},t.getInitialData=function(){var e;return Le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props.getMeta,n.next=3,Le.a.awrap(e());case 3:case"end":return n.stop()}}),null,null,null,Promise)},t.getUserData=function(){var e;return Le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=t.props.checkSession,n.next=4,Le.a.awrap(e());case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0.message);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)},t.loadAssetsAsync=function(){var e,r;return Le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return i=[n(329),n(330)],e=i.map((function(e){return"string"===typeof e?dt.a.prefetch(e):Rt.a.fromModule(e).downloadAsync()})),o=[{OpenSans:n(880)},{OpenSansBold:n(881)},{OpenSansSemiBold:n(882)},{Roboto:n(883)},{Roboto_medium:n(884)},{RobotoBold:n(885)},{ProximaNova:n(886)}],r=o.map((function(e){return Dt.b(e)})),a.next=4,Le.a.awrap(Promise.all([].concat(ut()(e),ut()(r),[Me(),t.getInitialData(),t.getUserData()])));case 4:Promise.resolve();case 5:case"end":return a.stop()}var o,i}),null,null,null,Promise)},t.onError=function(e){return console.warn("Failed to load app",e)},t.rotateValueHolder=new P.a.Value(0),t.state={initializing:!0,error:null},t}return w()(o,[{key:"render",value:function(){var e=this.state,t=e.error;return e.initializing?a.a.createElement(pr.a,{startAsync:this.loadAssetsAsync,onFinish:this.postInitialization,onError:this.onError}):a.a.createElement(T.a,{style:Er.container},t&&a.a.createElement(fe.a,{style:Er.error},t))}}]),o}(r.PureComponent);var wr=Object(c.b)((function(e){return{user:e.user,misc:e.misc}}),(function(e){return Object(Tt.b)({getMeta:br,checkSession:We,getUserLists:pn},e)}))(Sr),Er=o.a.create({container:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"},error:{marginTop:oe,color:ee.red,textAlign:"center",fontWeight:"bold",fontSize:W}}),Or=n(641),xr=n(133),kr=(n(892),xr.a().shape({email:xr.c().required(Je.t("validation.required",{field:Je.t("auth.email")})).email(Je.t("validation.invalid",{field:Je.t("auth.email")})),password:xr.c().required(Je.t("validation.required",{field:Je.t("auth.password")}))})),jr=xr.a().shape({email:xr.c().required(Je.t("validation.required",{field:Je.t("auth.email")})).email(Je.t("validation.invalid",{field:Je.t("auth.email")})),password:xr.c().required(Je.t("validation.required",{field:Je.t("auth.password")})).min(6,Je.t("validation.minLength",{field:Je.t("auth.password"),length:6})),confirmPassword:xr.c().oneOf([xr.b("password"),null],Je.t("auth.matchPassword")).required(Je.t("validation.required",{field:Je.t("auth.confirmPassword")}))}),Cr=o.a.create({container:{flex:1,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"},keyboard:{flex:1},content:{paddingLeft:le,paddingRight:le},logoContainer:{alignItems:"center",justifyContent:"center"},logo:{height:15,marginBottom:40},title:{fontSize:J,fontFamily:"Roboto",color:ee.darkGray,fontWeight:"bold"},signUpContainer:{flexDirection:"row",marginBottom:ae},signUpTitle:{fontFamily:"OpenSans",fontSize:U,color:ee.darkGray},signUp:{fontFamily:"OpenSans",fontSize:U,color:ee.red},input:{height:50,borderRadius:ae,marginTop:ae,paddingLeft:ie,backgroundColor:ee.extraLightGray,color:ee.darkGray,fontWeight:"bold",fontFamily:"Roboto",fontSize:V},inputInvalid:{borderColor:ee.red2},button:{width:100,height:40,borderRadius:ae,backgroundColor:ee.gray},buttonText:{color:ee.white,fontWeight:"bold"},buttonsContainer:{flexDirection:"row-reverse",marginTop:ae},googleContainer:{marginTop:100,width:250},facebookContainer:{paddingTop:10,paddingBottom:10},facebook:{height:40,width:250},google:{height:62,width:250}}),Pr=function(e){var t=e.SignIn,o=e.SignUp,i=e.Facebook,l=e.Google,c=Object(r.useState)({signin:!0}),s=ln()(c,2),u=s[0],d=s[1],m="Sign in",f="Sign up",p="Sign in to continue",g="Sign up to continue",y="Not registered yet?",h="Do you have an account?";return a.a.createElement(T.a,{style:Cr.container},a.a.createElement(me.a,{behavior:"position",style:Cr.keyboard},a.a.createElement(T.a,{style:Cr.content},a.a.createElement(T.a,{style:Cr.logoContainer},a.a.createElement(dt.a,{style:Cr.logo,resizeMode:"contain",source:n(330)})),a.a.createElement(T.a,null,a.a.createElement(fe.a,{style:Cr.title},u.signin?""+p:""+g),a.a.createElement(T.a,{style:Cr.signUpContainer},a.a.createElement(fe.a,{style:Cr.signUpTitle},u.signin?y+" ":h+" "),a.a.createElement(R.a,{onPress:function(){return d({signin:!u.signin})}},a.a.createElement(fe.a,{style:Cr.signUp},u.signin?f:m))),a.a.createElement(T.a,{style:Cr.googleContainer},a.a.createElement(R.a,{onPress:l},a.a.createElement(dt.a,{style:Cr.google,resizeMode:"contain",source:n(893)}))),a.a.createElement(T.a,{style:Cr.facebookContainer},a.a.createElement(R.a,{onPress:i},a.a.createElement(dt.a,{style:Cr.facebook,resizeMode:"contain",source:n(894)}))),a.a.createElement(fe.a,{style:Cr.signUpTitle}," or "),a.a.createElement(Or.a,{initialValues:{email:"",password:"",confirmPassword:""},onSubmit:u.signin?t:o,validationSchema:u.signin?kr:jr,validateOnBlur:!1,validateOnChange:!1},(function(e){var t=e.handleChange,n=e.handleBlur,r=e.handleSubmit,o=e.values,i=(e.isValid,e.errors);e.dirty;return a.a.createElement(a.a.Fragment,null,a.a.createElement(pe.a,{style:i.email?[Cr.input,Cr.inputInvalid]:Cr.input,placeholder:Je.t("auth.email"),onChangeText:t("email"),onBlur:n("email"),value:o.email,keyboardType:"email-address",autoCapitalize:"none"}),i.email?a.a.createElement(fe.a,{style:we.error},i.email):null,a.a.createElement(pe.a,{placeholder:Je.t("auth.password"),style:i.password?[Cr.input,Cr.inputInvalid]:Cr.input,onChangeText:t("password"),onBlur:n("password"),value:o.password,secureTextEntry:!0,autoCapitalize:"none"}),i.password?a.a.createElement(fe.a,{style:we.error},i.password):null,u.signin?null:a.a.createElement(pe.a,{placeholder:Je.t("auth.confirmPassword"),style:i.confirmPassword?[Cr.input,Cr.inputInvalid]:Cr.input,onChangeText:t("confirmPassword"),onBlur:n("confirmPassword"),value:o.confirmPassword,secureTextEntry:!0}),!u.signin&&i.confirmPassword?a.a.createElement(fe.a,{style:we.error},i.confirmPassword):null,a.a.createElement(T.a,{style:Cr.buttonsContainer},a.a.createElement(je,{text:Je.t("auth.continue"),style:Cr.button,textStyle:Cr.buttonText,onPress:r})))}))))))},Tr=n(354),Rr=n(642),Dr=function(e){var t=e.navigation,n=Object(c.c)(),o=Object(r.useState)({visible:!1}),i=ln()(o,2),l=(i[0],i[1],function(e){var r={email:e.user.email,uid:e.user.uid};n({type:"sign_in_user",payload:r}),n(pn(r.uid)),t.goBack()});return a.a.createElement(T.a,{style:we.container},a.a.createElement(T.a,{style:we.subContainer},a.a.createElement(Pr,{SignIn:function(e){var t,n,r;return Le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.email,n=e.password,a.prev=1,a.next=4,Le.a.awrap(Re.auth().signInWithEmailAndPassword(t,n));case 4:r=a.sent,l(r),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),s.Toast.show({text:Je.t("auth.loginFailed",{error:a.t0.message||a.t0||""}),type:"danger",duration:5e3});case 11:case"end":return a.stop()}}),null,null,[[1,8]],Promise)},SignUp:function(e){var t,n,r;return Le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.email,n=e.password,a.prev=1,a.next=4,Le.a.awrap(Re.auth().createUserWithEmailAndPassword(t,n));case 4:r=a.sent,l(r),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),s.Toast.show({text:Je.t("auth.registrationFailed",{error:a.t0.message||a.t0||""}),type:"danger",duration:5e3});case 11:case"end":return a.stop()}}),null,null,[[1,8]],Promise)},Facebook:function(){var e,t,n,r,a,o,i,c;return Le.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if("web"!==d.a.OS){u.next=5;break}e=new Re.auth.FacebookAuthProvider,Re.auth().signInWithPopup(e).then((function(e){l(e)})).catch((function(e){var t=e.code,n=e.message;e.email,e.credential;alert("We can't auth you through Facebook:\n\nERROR CODE:\n"+t+"\n\nERROR MESSAGE:\n"+n)})),u.next=31;break;case 5:return u.prev=5,t=Expo.Constants.manifest.extra.facebook.appId,n=["public_profile","email"],u.next=10,Le.a.awrap(Tr.a(t));case 10:return u.next=12,Le.a.awrap(Tr.b(t,{permissions:n}));case 12:r=u.sent,a=r.type,o=r.token,u.t0=a,u.next="success"===u.t0?17:"cancel"===u.t0?25:26;break;case 17:return u.next=19,Le.a.awrap(Re.auth().setPersistence(Re.auth.Auth.Persistence.LOCAL));case 19:return i=Re.auth.FacebookAuthProvider.credential(o),u.next=22,Le.a.awrap(Re.auth().signInWithCredential(i));case 22:return c=u.sent,l(c),u.abrupt("break",26);case 25:throw new Error("");case 26:u.next=31;break;case 28:u.prev=28,u.t1=u.catch(5),s.Toast.show({text:Je.t("auth.registrationFailed",{error:u.t1.message||u.t1||""}),type:"danger",duration:5e3});case 31:case"end":return u.stop()}}),null,null,[[5,28]],Promise)},Google:function(){var e,t,n,r,a,o,i,c;return Le.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if("web"!==d.a.OS){u.next=8;break}return(e=new Re.auth.GoogleAuthProvider).addScope("profile"),e.addScope("email"),u.next=6,Le.a.awrap(Re.auth().signInWithPopup(e).then((function(e){l(e)})).catch((function(e){e.code;var t=e.message;e.email,e.credential;alert("We can't auth you through Google: "+t)})));case 6:u.next=33;break;case 8:return u.prev=8,t={iosClientId:Expo.Constants.manifest.extra.google.iosClientId,androidClientId:Expo.Constants.manifest.extra.google.androidClientId,iosStandaloneAppClientId:Expo.Constants.manifest.extra.google.iosStandaloneAppClientId,androidStandaloneAppClientId:Expo.Constants.manifest.extra.google.androidStandaloneAppClientId,scopes:["profile","email"]},u.next=12,Le.a.awrap(Rr.a(t));case 12:if(n=u.sent,r=n.type,a=n.accessToken,n.user,"success"!==r){u.next=28;break}return u.next=19,Le.a.awrap(fetch("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer "+a}}));case 19:return o=u.sent,console.dir(o),u.next=23,Le.a.awrap(Re.auth().setPersistence(Re.auth.Auth.Persistence.LOCAL));case 23:return i=Re.auth.GoogleAuthProvider.credential(null,a),u.next=26,Le.a.awrap(Re.auth().signInWithCredential(i));case 26:c=u.sent,l(c);case 28:u.next=33;break;case 30:u.prev=30,u.t0=u.catch(8),s.Toast.show({text:Je.t("auth.registrationFailed",{error:u.t0.message||u.t0||""}),type:"danger",duration:5e3});case 33:case"end":return u.stop()}}),null,null,[[8,30]],Promise)}})))};Dr.navigationOptions={headerTransparent:!0,title:null};var Lr=Object(f.withNavigation)(Dr),Ir={headerBackTitle:" ",headerBackImage:function(){return a.a.createElement(te,{name:"arrow-left",color:ee.darkGray,size:24})},headerLeftContainerStyle:{paddingLeft:"ios"===d.a.OS?10:0},headerStyle:{borderBottomWidth:0,elevation:0}},Fr=n(138),Br=n(645);function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Hr=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(_r()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).renderLoading=function(){return a.a.createElement(T.a,{style:Ar.activityContainer},a.a.createElement(Xt,null))},t.getMeta="\n    setTimeout(function() {\n      window.ReactNativeWebView.postMessage(document.title);\n    }, 100)\n  ",t.postMessage=function(e){var n=t.props.navigation;n.getParam("title","")||n.setParams({title:e.nativeEvent.data})},t.state={uri:"http://www.ezenciel.com/"},t}return w()(r,[{key:"render",value:function(){var e=this.state.uri;return"web"===d.a.OS&&Fr.a.openURL(e),a.a.createElement(Qe,{style:{flex:1,paddingTop:0}},a.a.createElement(Br.a,{startInLoadingState:!0,renderLoading:this.renderLoading,injectedJavaScript:this.getMeta,onMessage:this.postMessage,source:{uri:e}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{uri:e.navigation.getParam("url","http://www.ezenciel.com/")})}}]),r}(r.PureComponent);Hr.navigationOptions=function(e){return{headerTitle:e.navigation.getParam("url").substr(0,30)+"...",headerBackTitle:" "}};var Ar=o.a.create({backButton:{width:"100%",height:50,backgroundColor:ee.darkGray,zIndex:10},backButtonText:{color:ee.extraLightGray,fontSize:U},activity:{justifyContent:"center",alignItems:"center"},activityContainer:{flex:1,alignItems:"center",justifyContent:"center",position:"absolute",top:0,bottom:0,right:0,left:0,zIndex:1,backgroundColor:"white"}}),Gr=Hr;function Mr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Nr=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Mr()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).state={height:null,showImages:{}},t.resetScroll=0,t.flatListRef=null,t.scrollUp=0,t}return w()(r,[{key:"setupAnimation",value:function(e){this.scroll=new P.a.Value(0),this.offsetAnim=new P.a.Value(0),this.headerScroll=P.a.diffClamp(P.a.add(this.scroll.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolateLeft:"clamp"}),this.offsetAnim),0,e)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.navigation.getParam("scrollUp");r&&r>this.scrollUp&&this.flatListRef&&(this.scrollUp=r,this.flatListRef._component.scrollToOffset({animated:!0,offset:0}))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.navigation,o=n.data,i=n.empty,l=n.loadMore,c=n.loading,s=n.children,u=n.renderItem,m=n.resetScroll,f=n.page,p=n.isHomeView,g=this.headerScroll?this.headerScroll.interpolate({inputRange:[0,this.state.height],outputRange:[0,-this.state.height],extrapolate:"clamp"}):0;this.scroll&&m&&m!==this.resetScroll&&(this.scroll.setValue(0),this.resetScroll=m);var y={initialNumToRender:p?3:10,onEndReachedThreshold:.8,windowSize:p?3:10,maxToRenderPerBatch:p?3:10},h={ref:function(e){return t.flatListRef=e},load:!0,data:o,renderItem:u,keyExtractor:function(e){return e._id},ListEmptyComponent:i,onEndReached:l,initialNumToRender:y.initialNumToRender,maxToRenderPerBatch:y.maxToRenderPerBatch,onEndReachedThreshold:y.onEndReachedThreshold,windowSize:y.windowSize,removeClippedSubviews:!0,scrollEventThrottle:16,refreshing:c,showsVerticalScrollIndicator:!1,contentContainerStyle:[Vr.flatListContainer,{paddingTop:"web"===d.a.OS?this.state.height-20:this.state.height,paddingBottom:50}],onScroll:P.a.event([{nativeEvent:{contentOffset:{y:this.scroll}}}],{useNativeDriver:!0}),onScrollBeginDrag:function(t){var n=t.nativeEvent;e=n.contentOffset.y},onScrollEndDrag:function(t){var n=t.nativeEvent;r.setParams({visible:e>=n.contentOffset.y})},ListFooterComponent:function(){return c?a.a.createElement(T.a,{style:{padding:50,paddingBottom:90,backgroundColor:ee.white,marginBottom:0}},a.a.createElement(Xt,null)):null}};return a.a.createElement(T.a,{style:we.container},a.a.createElement(T.a,{style:we.subContainer},a.a.createElement(P.a.View,{style:[we.header,{position:"absolute",zIndex:1,transform:[{translateY:g}]}],onLayout:function(e){var n=e.nativeEvent.layout.height;t.setState({height:n}),t.setupAnimation(n)}},s),this.state.height?c&&0===f?a.a.createElement(Xt,null):"web"===d.a.OS?a.a.createElement($t.a,h):a.a.createElement(P.a.FlatList,h):null))}}]),r}(r.PureComponent),Wr=Object(f.withNavigation)(Nr),Vr=o.a.create({flatListContainer:{backgroundColor:ee.white}}),Ur=o.a.create({header:{padding:ae}}),qr=function(e){var t=e.author,n=e.children;return a.a.createElement(T.a,{style:Ur.header},a.a.createElement(T.a,{style:{paddingTop:0,paddingBottom:10,paddingLeft:10}},a.a.createElement(zn,{data:t,large:!0})),n)},Yr=o.a.create({textContainer:{flexDirection:"row"},text:{fontFamily:"Roboto",fontSize:N,color:ee.darkGray,fontWeight:"bold",marginLeft:ae},extraText:{fontFamily:"Roboto",fontSize:N,color:ee.darkGray,fontWeight:"bold",marginRight:re,marginLeft:re}}),Jr=function(e){var t=e.textContainerStyle,n=e.textStyle,r=e.text,o=e.extraText,i=e.extraTextStyle,l=xe()(e,["textContainerStyle","textStyle","text","extraText","extraTextStyle"]);return a.a.createElement(ue,l,a.a.createElement(T.a,{style:[Yr.textContainer,t]},a.a.createElement(fe.a,{style:[Yr.text,n]},r),o&&a.a.createElement(fe.a,{style:[Yr.extraText,i]},o)))};Jr.defaultProps={extraText:null,textStyle:null,textContainerStyle:null,extraTextStyle:null};var Kr=Jr,Qr=o.a.create({more:{color:ee.red,fontSize:N,paddingTop:2,textAlign:"left"}}),Zr=function(e){var t=e.text,n=e.style,o=Object(r.useState)(!1),i=ln()(o,2),l=i[0],c=i[1];return a.a.createElement(R.a,{onPress:function(){return c(!l)}},a.a.createElement(fe.a,{numberOfLines:l?null:2,style:n},t),t?a.a.createElement(fe.a,{style:Qr.more},l?"see less":"see more"):null)},Xr=o.a.create({socialIcons:{flexDirection:"row"},socialIcon:{backgroundColor:ee.extraLightGray,marginRight:10},description:{paddingBottom:7},descriptionText:{fontSize:V,color:ee.darkGray}}),$r=function(e){var t=e.author;function n(e,t){return a.a.createElement(Kr,{iconName:e,iconSize:q,iconColor:ee.default,iconFont:"FontAwesome",containerStyle:Xr.socialIcon,text:t.text,onPress:function(){return Mn(t.link,{},{type:e,_id:t._id})}})}return t?a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{style:Xr.description},a.a.createElement(Zr,{text:t.description,style:Xr.descriptionText})),a.a.createElement(T.a,{style:[Xr.socialIcons]},t.instagram?n("instagram",t.instagram):null,t.youtube?n("youtube",t.youtube):null,t.twitter?n("twitter",t.twitter):null,t.domainInfo?n("globe",t.domainInfo):null)):null},ea=o.a.create({relatedItemContainer:{backgroundColor:ee.lightGray,padding:5,flexDirection:"row",alignContent:"center",justifyContent:"center",marginLeft:10,marginBottom:oe},iconContainer:{flex:1,marginLeft:10,alignItems:"center",justifyContent:"center"},linkLabel:{fontSize:W}}),ta=function(e){var t=e.item,n=e.onPress,r=t._id,o=t.brand,i=t.name;i&&i.length>20&&(i=i.slice(0,20)+"...");var l=o+" - "+i;return a.a.createElement(R.a,{key:r,onPress:function(){return n(r)}},a.a.createElement(T.a,{style:ea.relatedItemContainer},a.a.createElement(fe.a,{style:ea.linkLabel},l),a.a.createElement(T.a,{style:ea.iconContainer},a.a.createElement(te,{name:"link",size:W}))))},na=o.a.create({relatedItemsList:{flexDirection:"row",marginTop:15}}),ra=function(e){var t=e.data,n=e.onLinkPress;return a.a.createElement($t.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:na.relatedItemsList,data:t,keyExtractor:function(e){return e._id},renderItem:function(e){var t=e.item;return a.a.createElement(ta,{onPress:n,item:t})}})};function aa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var oa=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(aa()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).onLinkPress=function(e){t.props.navigation.push("ProductDetails",{productId:e})},t.navigateToAuthor=function(e){var n=t.props.navigation;n.navigate("Author",{author:e,fromRoute:n.state.routeName})},t.errorLoadingImage=function(){t.setState({imageError:!0})},t.getTopMostLabel=function(){var e=t.props.data.products,n=e.categories,r=e.subcategories,o=e.names,i=[];o&&o.length&&(i=o),n&&n.length&&(i=n),r&&r.length&&(i=r);var l=i.slice(0,2).join(" & ").toUpperCase();return i.length>0?a.a.createElement(fe.a,{style:ia.section},l):null},t.state={imageError:!1},t}return w()(r,[{key:"render",value:function(){var e=this,t=this.state.imageError,n=this.props,r=n.data,o=n.hideImage,i=n.hideAuthor,l=r.products,c=r.title,s=r.summary,u=r.image,d=r.link,m=r.author,f=r.date,p=Xn()(f).fromNow(),g=d&&d.includes("youtube");return a.a.createElement(T.a,{style:ia.container},a.a.createElement(T.a,{style:ia.content},this.getTopMostLabel(),a.a.createElement(fe.a,{style:ia.date},p),m&&!i?a.a.createElement(an.a,{onPress:function(){return e.navigateToAuthor(m)}},a.a.createElement(T.a,{style:{paddingTop:5}},a.a.createElement(zn,{data:m}))):null,a.a.createElement(an.a,{onPress:function(){return Mn(d,{title:c},{type:"blog",author:m._id,title:c})}},a.a.createElement(T.a,null,a.a.createElement(fe.a,{style:ia.title},c))),a.a.createElement(fe.a,{style:ia.description},s)),g?u.includes("live.jpg")?null:a.a.createElement(Un,{image:u,videoLink:d}):u&&!o&&!t&&a.a.createElement(dt.a,{style:ia.image,source:{uri:u},onError:this.errorLoadingImage}),a.a.createElement(ra,{data:l.list,onLinkPress:this.onLinkPress}),a.a.createElement(T.a,{style:{backgroundColor:ee.lightGray,padding:3}}))}}]),r}(r.PureComponent),ia=o.a.create({container:{backgroundColor:ee.white,marginBottom:re},content:{padding:oe,paddingTop:ae},section:{fontFamily:"OpenSansBold",fontSize:N,color:ee.red},date:{fontSize:M,fontFamily:"Roboto",color:ee.categoriesLightGray,paddingTop:1},title:{marginTop:ae,color:ee.darkGray,fontFamily:"OpenSansBold",fontSize:q},description:{marginTop:re,fontFamily:"OpenSans",fontSize:V,color:ee.darkGray,lineHeight:20},image:{width:"100%",height:300,marginTop:ae},relatedItemsList:{flexDirection:"row",marginTop:15},relatedItemContainer:{backgroundColor:ee.lightGray,padding:5,flexDirection:"row",alignContent:"center",justifyContent:"center",marginRight:15},iconContainer:{flex:1,marginLeft:10,alignItems:"center",justifyContent:"center"},linkLabel:{fontSize:W}}),la=Object(f.withNavigation)(oa),ca=o.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:20},text:{fontFamily:"OpenSans",fontSize:U,color:ee.darkGray,flex:1}}),sa=function(e){var t=e.item,n=e.text,r=e.selected,o=e.onSelected,i=e.style,l=function(){o(t)};return a.a.createElement(an.a,{onPress:l},a.a.createElement(T.a,{style:ca.container},a.a.createElement(fe.a,{numberOfLines:1,style:[ca.text,i]},n),r?a.a.createElement(te,{name:"check-box",font:"MaterialIcons",size:24,color:ee.darkGray,onPress:l}):a.a.createElement(te,{name:"check-box-outline-blank",font:"MaterialIcons",size:24,color:ee.darkGray,onPress:l})))},ua=o.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:20},text:{fontFamily:"OpenSans",fontSize:U,color:ee.darkGray}}),da=function(e){var t=e.text,n=e.selected,r=e.onSelected;return a.a.createElement(an.a,null,a.a.createElement(T.a,{style:ua.container},a.a.createElement(fe.a,{style:ua.text},t),a.a.createElement(On.a,{value:n,onValueChange:r,trackColor:{true:ee.darkGray,false:ee.lightGray},thumbColor:[ee.white],ios_backgroundColor:"#fbfbfb"})))},ma=n(639),fa=n(296),pa=n.n(fa);function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ha={type:"media",term:"",tags:[],product:[],author:[],following:[],items:[],tagName:null,tagType:null,time:0,isLast:!1,page:0},ba={last:ha,previous:ha,stack:[],loading:!1},va=function(e){var t=e.params,n=e.stack,r=void 0!==n&&n,a=e.view,o=void 0===a?"":a;return function(e){var n,a,i,l,c,s,u;return Le.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,n=t&&t.type?t.type:"all",a=t.author.length&&t.following.length?Sa(t.author,t.following):t.author.length?t.author:t.following,i=0===t.page?Date.now():t.time,l={search:t&&t.term?t.term:null,type:"all"===n?["media","authors","products"]:[n],tags:t.tags,author:a,product:t.product,page:t.page,time:i},e({type:"search_loading"+o,payload:ya({},t),stack:r,reset:"all"===n}),d.next=8,Le.a.awrap(Ne.post("/search",l));case 8:c=d.sent,s=c.data,u=ya({},t,{items:s,isLast:0===s.length}),0===l.page?(u.time=i,e({type:"search"+o,payload:u,stack:r,reset:"all"===n})):e({type:"search_next"+o,payload:u}),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(0),console.log(d.t0.message);case 17:case"end":return d.stop()}}),null,null,[[0,14]],Promise)}};function Sa(e,t){return ut()(new Set(e)).filter((function(e){return new Set(t).has(e)}))}var wa=o.a.create({container:{justifyContent:"center",borderRadius:5,paddingLeft:ae,paddingRight:ae,paddingTop:re,paddingBottom:re},text:{fontFamily:"OpenSans",fontSize:V},selectedItemStyle:{backgroundColor:ee.extraDarkGray},unselectedItemStyle:{borderWidth:.5,borderColor:ee.darkGray},selectedTextStyle:{color:ee.white},unselectedTextStyle:{color:ee.darkGray}}),Ea=function(e){var t=e.isSelected,n=e.text,r=e.onPress;return a.a.createElement(R.a,{onPress:r,style:t?[wa.container,wa.selectedItemStyle]:[wa.container,wa.unselectedItemStyle]},a.a.createElement(fe.a,{style:t?[wa.text,wa.selectedTextStyle]:[wa.text,wa.unselectedTextStyle]},n))};function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ka=o.a.create({container:{padding:ae,paddingTop:"ios"===d.a.OS?Be.a.statusBarHeight:15,flex:1,display:"flex",justifyContent:"center",flexDirection:"row"},content:{flex:1,paddingTop:10,padding:ae,paddingBottom:0},section:{fontFamily:"OpenSansSemiBold",fontSize:Z,color:ee.extraDarkGray},term:{fontFamily:"OpenSans",fontSize:Z,color:ee.gray},other:{fontFamily:"OpenSans",fontSize:X,color:ee.gray},description:{fontFamily:"OpenSans",fontSize:$,color:ee.darkGray,lineHeight:25,paddingTop:5},actionsSection:{flexDirection:"row",borderTopColor:ee.lightGray,borderTopWidth:1,paddingTop:10,marginBottom:"ios"===d.a.OS?10:16},button:{height:40,borderRadius:5,flex:1},submitButton:{backgroundColor:ee.extraDarkGray},clearButton:{borderWidth:.5,borderColor:ee.darkGray},submitButtonText:{color:ee.white,fontFamily:"OpenSans"},clearButtonText:{color:ee.darkGray,fontFamily:"OpenSans"}}),ja=function(e){var t=e.loadFilters,n=e.view,o=void 0===n?"":n,i=e.fromRoute,l=e.searchData,s=e.tags,u=Object(c.c)(),d=Object(c.d)((function(e){return e.Misc})),f=Object(c.d)((function(e){return l||("SearchMain"===i?e.Search:e.HomeSearch)})),p=Object(c.d)((function(e){return e.AuthorViewSearch})),g=Object(c.d)((function(e){return e.Lists})),y=g?Object.values(g).find((function(e){return"following"===e.type})):null,h=d.skincare,b={visible:!1,modified:!1,following:!1,term:"",tags:[],type:"media",product:[],tagName:null,tagType:null},v=Object(r.useState)(b),S=ln()(v,2),w=S[0],E=S[1],O="_author"===o,x=function(){var e=!O&&w.following?1:0,t=O&&w.term?1:0,n=O&&w.tagType?1:0;return w.tags.length+e+t+n};Object(r.useEffect)((function(){t&&E(xa({},w,{},f.last,{tags:s||f.last.tags,following:f.last.following.length>0}))}),[f.last]),Object(r.useEffect)((function(){O&&E(xa({},w,{},p))}),[p]);var k=function(e){var t=[];t=w.tags.find((function(t){return t._id===e._id}))?w.tags.filter((function(t){return t._id!==e._id})):[].concat(ut()(w.tags),[e]),E(xa({},w,{tags:t,modified:!0}))},j=function(e){var t=e.inputType,n=!O&&y?w.following?{following:y.items.map((function(e){return e._id}))}:{following:[]}:{},r={product:"products"===t?[]:w.product,tagType:"products"===t?null:w.tagType,tagName:"products"===t?null:w.tagName,type:t||w.type};if(w.modified||t){var a=O?p:f.last;u(va({params:xa({},a,{tags:w.tags,term:w.term},n,{},r,{page:0}),stack:!1,view:o})),E(xa({},w,{modified:!1,visible:!1},r))}else E(xa({},w,{visible:!1}))},C=function(e,t){var n=e.title,r=e.description,o=e.divisor;return a.a.createElement(a.a.Fragment,null,a.a.createElement(fe.a,{style:ka.section},n),r?a.a.createElement(fe.a,{style:ka.description},r):null,a.a.createElement(bn,{v:10}),t,a.a.createElement(bn,{v:20,l:o}),a.a.createElement(bn,{v:15}))},P=function(e){return a.a.createElement(sa,{key:e._id,item:e,text:e.name,selected:w.tags.find((function(t){return t._id===e._id})),onSelected:k})},D=Object(ma.a)(x(),{left:5,textStyle:{fontSize:10}})(te),L={visible:w.visible,animationType:"fade"};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,{options:L},a.a.createElement(T.a,{style:{marginLeft:6}},a.a.createElement(ue,{iconName:"close",iconFont:"MaterialIcons",iconSize:24,onPress:j})),a.a.createElement(ge.a,{style:{height:m.a.get("window").height-150},showsVerticalScrollIndicator:!1},a.a.createElement(T.a,{style:ka.content},O?C({title:"Search for",description:"See their media or the mentioned products",divisor:!0},a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(Ea,{text:"Media",isSelected:"products"!==p.type,onPress:function(){return j({inputType:"media"})}}),a.a.createElement(bn,{h:10}),a.a.createElement(Ea,{text:"Products",isSelected:"products"===p.type,onPress:function(){return j({inputType:"products"})}}))):null,O&&f.last.term?C({title:"Search",description:"Search your term within their articles, blogs and youtube videos",divisor:!0},a.a.createElement(sa,{text:f.last.term,selected:w.term,style:ka.term,onSelected:function(){E(xa({},w,{modified:!0,term:w.term?null:f.last.term}))}})):null,!O&&y?C({title:"Following List",description:"See results only from the influencers you are following",divisor:!0},a.a.createElement(da,{text:"Following Influencers",selected:w.following,onSelected:function(e){E(xa({},w,{modified:!0,following:!w.following}))}})):null,O&&p.tagType?C({title:p.tagType,description:null,divisor:!0},a.a.createElement(sa,{text:p.tagName,selected:w.tagType,style:ka.term,onSelected:function(){E(xa({},w,{modified:!0,tagType:w.tagType?null:p.tagType,tagName:w.tagType?null:p.tagName,product:w.tagType?[]:p.product}))}})):null,C({title:"Media categories",description:"Youtube videos, blogs and articles are classified based on some common criteria. This limits the results to those selected",divisor:!0},h.labels.map(P)),C({title:"Product categories",description:"Select whether you want to filter your results based on the mentioned product categories",divisor:!0},h.categories.map(P)),C({title:"Content type",description:"Select whether you want to filter specifically by videos or articles",divisor:!1},h.content.map(P)))),a.a.createElement(T.a,{style:ka.actionsSection},a.a.createElement(bn,{h:10}),a.a.createElement(je,{style:[ka.button,ka.clearButton],textStyle:ka.clearButtonText,onPress:function(){if(x()>0)E(xa({},b,{visible:!0,modified:!0,following:!1}));else{var e=[].concat(ut()(h.labels),ut()(h.categories),ut()(h.content)),t=O?f.last.term:null,n=O?{product:p.product,tagType:p.tagType,tagName:p.tagName}:{};E(xa({},w,{tags:e,term:t,modified:!0},n))}},text:x()>0?"Clear All":"Select All"}),a.a.createElement(bn,{f:.5}),a.a.createElement(je,{style:[ka.button,ka.submitButton],textStyle:ka.submitButtonText,onPress:j,text:"Search"}),a.a.createElement(bn,{h:10}))),a.a.createElement(R.a,{onPress:function(){E(xa({},w,{visible:!w.visible}))}},x()>0?a.a.createElement(D,{font:"Feather",name:"menu",size:24,color:ee.darkGray,wrapperStyle:{fontSize:M,alignItems:"center"}}):a.a.createElement(te,{name:"menu",size:24,color:ee.darkGray,font:"Feather"})))},Ca=n(15),Pa=n.n(Ca),Ta=n(640),Ra=n(947),Da=(n(932),n(223)),La=n(225),Ia=n(224);function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var za={Entypo:L.default,EvilIcons:I.default,Feather:F.default,FontAwesome:B.default,Foundation:_.default,Ionicons:H.default,MaterialIcons:G.default,MaterialCommunityIcons:A.default,Octicons:Da.default,Zocial:La.default,SimpleLineIcons:Ia.default},_a={buttonStyle:ft.a.style,disabled:gt.a.bool.isRequired,halfStarEnabled:gt.a.bool.isRequired,icoMoonJson:gt.a.string,iconSet:gt.a.string.isRequired,rating:gt.a.number.isRequired,reversed:gt.a.bool.isRequired,starColor:gt.a.string.isRequired,starIconName:gt.a.oneOfType([gt.a.string,gt.a.object,gt.a.number]).isRequired,starSize:gt.a.number.isRequired,activeOpacity:gt.a.number.isRequired,starStyle:ft.a.style,onStarButtonPress:gt.a.func.isRequired},Ha={buttonStyle:{},icoMoonJson:void 0,starStyle:{}},Aa=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Ba()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).onButtonPress=t.onButtonPress.bind(Pa()(t)),t}return w()(r,[{key:"onButtonPress",value:function(e){var t=this.props,n=t.halfStarEnabled,r=t.starSize,a=t.rating,o=t.onStarButtonPress,i=0;n&&(i=e.nativeEvent.locationX<r/2?-.5:0);o(a+i)}},{key:"iconSetFromProps",value:function(){var e=this.props,t=e.icoMoonJson,n=e.iconSet;return t?Object(Ra.a)(t):za[n]}},{key:"renderIcon",value:function(){var e,t=this.props,n=t.reversed,r=t.starColor,i=t.starIconName,l=t.starSize,c=t.starStyle,s=this.iconSetFromProps(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({transform:[{scaleX:n?-1:1}]},o.a.flatten(c));if("string"===typeof i)e=a.a.createElement(s,{name:i,size:l,color:r,style:u});else{var d=[{width:l,height:l,resizeMode:"contain"},u];e=a.a.createElement(dt.a,{source:i,style:d})}return e}},{key:"render",value:function(){var e=this.props,t=e.activeOpacity,n=e.buttonStyle,r=e.disabled;return a.a.createElement(R.a,{activeOpacity:t,disabled:r,containerStyle:n,onPress:this.onButtonPress},this.renderIcon())}}]),r}(r.Component);Aa.propTypes=_a,Aa.defaultProps=Ha;var Ga=Aa;function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Wa=["bounce","flash","jello","pulse","rotate","rubberBand","shake","swing","tada","wobble"],Va={activeOpacity:gt.a.number,animation:gt.a.oneOf(Wa),buttonStyle:ft.a.style,containerStyle:ft.a.style,disabled:gt.a.bool,emptyStar:gt.a.oneOfType([gt.a.string,gt.a.object,gt.a.number]),emptyStarColor:gt.a.string,fullStar:gt.a.oneOfType([gt.a.string,gt.a.object,gt.a.number]),fullStarColor:gt.a.string,halfStar:gt.a.oneOfType([gt.a.string,gt.a.object,gt.a.number]),halfStarColor:gt.a.string,halfStarEnabled:gt.a.bool,icoMoonJson:gt.a.object,iconSet:gt.a.string,maxStars:gt.a.number,rating:gt.a.number,reversed:gt.a.bool,starSize:gt.a.number,starStyle:ft.a.style,selectedStar:gt.a.func},Ua={activeOpacity:.2,animation:void 0,buttonStyle:{},containerStyle:{},disabled:!1,emptyStar:"star-o",emptyStarColor:"gray",fullStar:"star",fullStarColor:"black",halfStar:"star-half-o",halfStarColor:void 0,halfStarEnabled:!1,icoMoonJson:void 0,iconSet:"FontAwesome",maxStars:5,rating:0,reversed:!1,starSize:40,starStyle:{},selectedStar:function(){}},qa=function(e){C()(r,e);var t,n=(t=r,function(){var e,n=k()(t);if(Na()){var r=k()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(e){var t;return v()(this,r),(t=n.call(this,e)).starRef=[],t.onStarButtonPress=t.onStarButtonPress.bind(Pa()(t)),t}return w()(r,[{key:"onStarButtonPress",value:function(e){(0,this.props.selectedStar)(e)}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.activeOpacity,r=t.animation,i=t.buttonStyle,l=t.containerStyle,c=t.disabled,s=t.emptyStar,u=t.emptyStarColor,d=t.fullStar,m=t.fullStarColor,f=t.halfStar,p=t.halfStarColor,g=t.halfStarEnabled,y=t.icoMoonJson,b=t.iconSet,v=t.maxStars,S=t.rating,w=t.reversed,E=t.starSize,O=t.starStyle,x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({flexDirection:w?"row-reverse":"row",justifyContent:"space-between"},o.a.flatten(l)),k=Math.round(2*S)/2,j=[],C=function(t){var o=s,l=u;k>=1?(o=d,l=m):.5===k&&(o=f,l=p||m);var h=a.a.createElement(Ta.a,{key:t,ref:function(t){e.starRef.push(t)}},a.a.createElement(Ga,{activeOpacity:n,buttonStyle:i,disabled:c,halfStarEnabled:g,icoMoonJson:y,iconSet:b,onStarButtonPress:function(n){if(r&&Wa.includes(r))for(var a=0;a<=t;a++)e.starRef[a][r](1e3+200*a);e.onStarButtonPress(n)},rating:t+1,reversed:w,starColor:l,starIconName:o,starSize:E,starStyle:O}));j.push(h),k-=1},P=0;P<v;P++)C(P);return a.a.createElement(T.a,{style:x,pointerEvents:c?"none":"auto"},j)}}]),r}(r.Component);qa.propTypes=Va,qa.defaultProps=Ua;var Ya=qa,Ja=o.a.create({container:{height:160,justifyContent:"center",marginRight:oe},itemsContainer:{flex:1,flexDirection:"row",padding:ae},imageContainer:{justifyContent:"center",alignItems:"center",flex:2},productContentContainer:{flex:3,flexDirection:"column",justifyContent:"flex-end",paddingLeft:20},supertitle:{color:ee.gray,fontFamily:"OpenSans",fontSize:N},title:{color:ee.darkGray,fontWeight:"bold",fontSize:U,fontFamily:"OpenSansBold"},caption:{fontSize:N,fontFamily:"OpenSans",color:ee.gray}}),Ka=function(e){var t=e.image,n=e.supperTitle,r=e.title,o=e.children,i=e.caption,l=e.inList,c=e.onLike,s=e.onPress,u=e.seeMedia,d=e.showYoutube,m=e.roundImage;return a.a.createElement(T.a,{style:Ja.container},a.a.createElement(an.a,{onPress:s},a.a.createElement(T.a,{style:Ja.itemsContainer},a.a.createElement(T.a,{style:Ja.imageContainer},t?a.a.createElement(dt.a,{style:m?{width:100,height:100,borderRadius:50}:{width:125,height:125},resizeMode:"cover",source:{uri:t}}):a.a.createElement(T.a,{style:{width:100,height:100,borderRadius:50,backgroundColor:ee.lightGray}})),a.a.createElement(T.a,{style:Ja.productContentContainer},a.a.createElement(fe.a,{numberOfLines:1,style:Ja.supertitle},n?n.toUpperCase():null),a.a.createElement(T.a,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(fe.a,{numberOfLines:2,style:Ja.title},r),a.a.createElement(bn,{h:5}),d?a.a.createElement(te,{name:"youtube",font:"FontAwesome",size:V,color:ee.gray}):null),o,a.a.createElement(R.a,{onPress:u},a.a.createElement(T.a,{style:{flexDirection:"row",paddingTop:2}},a.a.createElement(te,{name:"folder-video",font:"Entypo",size:V,color:ee.gray}),a.a.createElement(bn,{h:5}),a.a.createElement(fe.a,{numberOfLines:2,style:Ja.caption},i)))),a.a.createElement(T.a,null,a.a.createElement(ue,{iconName:l?"heart":"heart-o",iconSize:U,iconColor:l?ee.red:ee.gray,iconFont:"FontAwesome",containerStyle:{padding:0},onPress:c})))))},Qa=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.product,r=e.caption,o=e.seeMedia,i=e.inList,l=e.onLike;return a.a.createElement(Ka,{image:n.img,supperTitle:n.brand,title:n.name,caption:"See related media"+r.extra,inList:i,onLike:function(){l(n)},onPress:function(e){e._id;t.navigate("ProductDetails",{productId:n._id})},seeMedia:function(){o(n)}},a.a.createElement(fe.a,{style:[we.text,{fontSize:N,color:ee.gray,paddingTop:3}]},"Mentioned in ",r.full),a.a.createElement(Ya,{disabled:!0,maxStars:5,rating:n.score/2,starSize:13,fullStarColor:ee.yellow,containerStyle:{justifyContent:"flex-start",paddingTop:10,paddingBottom:10},starStyle:{paddingRight:3}}))})),Za="all",Xa="media",$a="authors",eo="products";function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ro=function(e){var t=e.navigation,n=Object(c.c)(),o=t.getParam("author"),i=t.getParam("filter"),l=t.getParam("fromRoute"),s=t.getParam("tags"),u=Object(c.d)((function(e){return e.AuthorViewSearch})),m=Object(c.d)((function(e){return"SearchMain"===l?e.Search:e.HomeSearch})),f=Object(c.d)((function(e){return e.AuthorInfo})),p=Object(c.d)((function(e){return e.Lists})),g=(p?Object.values(p):[]).filter((function(e){return"products"===e.type})),y=Object(r.useState)({visible:!1}),h=ln()(y,2),b=h[0],v=h[1];Object(r.useEffect)((function(){var e;n(va({params:no({},ha,{author:[o._id],type:"media",term:i?m.last.term:"",tags:s||(i?m.last.tags:[]),page:0,items:[]}),view:"_author"})),n((e=o._id,function(t){var n,r,a;return Le.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n={author_id:e},o.next=4,Le.a.awrap(Ne.post("/author",n));case 4:r=o.sent,a=r.data,console.log("/author "+e),a&&a.domain&&(a.domainInfo={_id:a.domain,link:"http://"+a.domain,text:a.domain}),t({type:"update_authorInfo",payload:a}),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),console.log(o.t0.message);case 14:case"end":return o.stop()}}),null,null,[[0,11]],Promise)}))}),[]);var S=a.a.createElement(T.a,{style:oo.listEmptyMessage},a.a.createElement(fe.a,{style:no({},oo.listEmptyMessageText,{},oo.listEmptyMessage)},Je.t("emptyMedia"))),w=function(e){var t=e.name+" by "+e.brand;n(va({params:no({},ha,{author:[o._id],product:[e._id],type:"media",tagName:t,tagType:"Product"}),view:"_author"}))},E=function(e){v(no({},b,{visible:!0,item:e,type:"products"}))};var O=function(e){var t=e.item,n=function(e){var t=e.count-e.videos,n=e.videos>0?e.videos+" Youtube video"+(e.videos>1?"s":""):"",r=t>0?t+" Article"+(t>1?"s":""):"",a=e.videos>0&&t>0?" & ":"",o=u.term&&""!==u.term?" on "+u.term:"";return{full:n+a+r+o,extra:o}}(t),r=g.find((function(e){return e.items.find((function(e){return e._id===t._id}))}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{style:oo.productCard},a.a.createElement(Qa,{product:t,caption:n,seeMedia:w,inList:r,onLike:E})),a.a.createElement(T.a,{style:{backgroundColor:ee.lightGray,padding:2}}))};return!u||!u.author||o._id!==u.author[0]||f&&o._id!==f._id?a.a.createElement(T.a,{style:oo.refreshContainer},a.a.createElement(Xt,null)):a.a.createElement(Wr,{data:u.items,empty:S,loadMore:function(){u.isLast||u.loading||n(va({params:no({},u,{page:u.page+1}),view:"_author"}))},loading:u.loading,hideAuthor:!0,renderItem:function(e){switch(u.type){case Xa:return function(e){var t=e.item;return a.a.createElement(la,{data:t,hideAuthor:!0})}(e);case eo:return O(e)}},resetScroll:u.time,page:u.page},a.a.createElement(T.a,{style:{marginTop:Be.a.statusBarHeight+("ios"===d.a.OS?25:5)}},a.a.createElement(qr,{author:o},a.a.createElement($r,{author:f})),b.visible?a.a.createElement(Ln,{visible:b.visible,item:b.item,type:b.type,onClose:function(){return v({visible:!1})},onAdd:function(e,t){n(yn(e,t))},onDelete:function(e,t){n(hn(e,t))}}):null))};ro.navigationOptions=function(e){var t=e.navigation,n=t.getParam("fromRoute"),r=t.getParam("tags");return{headerTransparent:!0,title:null,headerRight:function(){return a.a.createElement(T.a,{style:{paddingRight:20}},a.a.createElement(ja,{loadFilters:t.getParam("filter"),view:"_author",fromRoute:n,tags:r}))}}};var ao=Object(f.withNavigation)(ro),oo=o.a.create({refreshContainer:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"white"},listEmptyMessage:{flex:1,alignItems:"center",backgroundColor:"white",paddingTop:10},listEmptyMessageText:{fontSize:V,color:ee.darkGray},productCard:{backgroundColor:"white",paddingTop:oe,paddingLeft:ae,paddingRight:ae,marginTop:0,marginBottom:4,marginLeft:0,marginRight:0,paddingBottom:oe}}),io=o.a.create({container:{marginTop:"ios"===d.a.OS?Be.a.statusBarHeight:0,paddingTop:"web"===d.a.OS?20:0},logoContainer:{alignItems:"center",marginTop:oe},logo:{width:35,height:35},logoTitle:{width:175,height:15},section:{fontFamily:"ProximaNova",fontSize:V,color:ee.darkGray,marginTop:7,letterSpacing:4}}),lo=function(e){var t=e.children,r=e.hideSymbol,o=e.hideLogoText;return a.a.createElement(T.a,{style:io.container},a.a.createElement(T.a,{style:io.logoContainer},r?null:a.a.createElement(dt.a,{style:io.logo,source:n(329)}),o?null:a.a.createElement(dt.a,{style:io.logoTitle,source:n(330)}),a.a.createElement(fe.a,{style:io.section},"SKINCARE")),t)},co=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.data,r=e.row,i=e.listId,l=e.children,c=e.hideActionBox,s=e.size,u=void 0===s?1:s,d=e.showDescription,m=e.showMediaLink,f=e.caption,p=e.hideDelete,g=e.loadFilters,y=e.tags,h=o.a.create({imageRow:{width:50*u,height:50*u,borderRadius:30*u}});return a.a.createElement(an.a,{onPress:function(){return t.navigate("Author",{author:n,filter:g,fromRoute:t.state.routeName,tags:y})}},a.a.createElement(T.a,{style:r?[so.containerRow,u>1?{height:150}:null]:so.container},a.a.createElement(T.a,{style:[so.imageContainer]},n.image?a.a.createElement(dt.a,{resizeMode:"cover",style:r?h.imageRow:so.image,source:{uri:n.image}}):a.a.createElement(T.a,{style:r?[h.imageRow,so.noImageRow]:[so.image,so.noImage]})),a.a.createElement(T.a,{style:r?so.nameFollowersContainerRow:so.nameFollowersContainer},a.a.createElement(T.a,{style:{flexDirection:"row",alignItems:"center"}},a.a.createElement(fe.a,{numberOfLines:1,style:r?so.nameRow:so.name},n.name),a.a.createElement(bn,{h:5}),n.channelId&&r?a.a.createElement(te,{name:"youtube",font:"FontAwesome",size:V,color:ee.gray}):null),n.text||l?a.a.createElement(fe.a,{style:r?so.followersRow:so.followers},n.text,n.text&&l?", ":"",l):null,d&&n.description?a.a.createElement(fe.a,{numberOfLines:m?2:3,style:so.descriptionText},n.description):null,m?a.a.createElement(T.a,{style:{flexDirection:"row",paddingTop:20}},a.a.createElement(te,{name:"folder-video",font:"Entypo",size:V,color:ee.gray}),a.a.createElement(bn,{h:5}),a.a.createElement(fe.a,{style:so.followersRow},"See ",n.count," media",f)):a.a.createElement(T.a,{style:{paddingTop:5}})),!r||c?null:a.a.createElement(T.a,{style:so.actionBox},a.a.createElement(Bn,{author:n,hideAddList:!0,listId:i,hideDelete:p}))))})),so=o.a.create({container:{flexDirection:"column",alignItems:"center",paddingRight:10,paddingLeft:10,paddingBottom:5,paddingTop:5},containerRow:{flexDirection:"row",alignItems:"center",paddingTop:5,paddingBottom:5,backgroundColor:"white"},actionBox:{alignItems:"center",justifyContent:"center",marginRight:5},imageContainer:{alignItems:"center",justifyContent:"center"},noImage:{borderColor:ee.gray,borderWidth:.5},image:{width:100,height:100,borderRadius:50},noImageRow:{borderColor:ee.gray,borderWidth:.5},nameFollowersContainer:{alignItems:"center"},nameFollowersContainerRow:{marginLeft:oe,flex:1},name:{color:ee.darkGray,fontWeight:"bold",fontSize:N,fontFamily:"OpenSansBold",paddingTop:5},nameRow:{color:ee.darkGray,fontWeight:"bold",fontSize:U,fontFamily:"OpenSansBold"},followers:{fontSize:M,fontFamily:"OpenSans",color:ee.gray},followersRow:{fontSize:N,fontFamily:"OpenSans",color:ee.gray},descriptionText:{paddingTop:15,paddingBottom:3,fontSize:V,fontFamily:"OpenSans",color:ee.darkGray,lineHeight:20}}),uo=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.data,r=e.row,i=e.listId,l=e.children,s=e.size,u=void 0===s?1:s,d=e.showMediaLink,m=e.caption,f=Object(c.c)(),p=o.a.create({imageRow:{width:50*u,height:50*u,borderRadius:30*u}});return a.a.createElement(an.a,{onPress:function(e){e._id;t.navigate("ProductDetails",{productId:n._id})}},a.a.createElement(T.a,{style:r?[mo.containerRow,u>1?{height:150}:null]:mo.container},a.a.createElement(T.a,{style:[mo.imageContainer]},n.img?a.a.createElement(dt.a,{resizeMode:"cover",style:r?p.imageRow:mo.image,source:{uri:n.img}}):a.a.createElement(T.a,{style:r?[p.imageRow,mo.noImageRow]:[mo.image,mo.noImage]})),a.a.createElement(T.a,{style:r?mo.nameFollowersContainerRow:mo.nameFollowersContainer},a.a.createElement(fe.a,{numberOfLines:1,style:r?mo.nameRow:mo.name},n.name<20?n.name:n.name.substring(0,20)+"..."),n.brand||l?a.a.createElement(fe.a,{numberOfLines:1,style:r?mo.followersRow:mo.followers},n.brand.toUpperCase(),n.brand&&l?", ":"",l):null,d?a.a.createElement(T.a,{style:{flexDirection:"row",paddingTop:20}},a.a.createElement(te,{name:"folder-video",font:"Entypo",size:V,color:ee.gray}),a.a.createElement(bn,{h:5}),a.a.createElement(fe.a,{style:mo.followersRow},"See ",n.count," media",m)):a.a.createElement(T.a,{style:{paddingTop:5}})),r?a.a.createElement(T.a,{style:mo.actionBox},a.a.createElement(ue,{iconFont:"MaterialCommunityIcons",iconSize:20,iconColor:ee.darkGray,onPress:function(){return function(e,t){f(hn(e,t))}(i,n)},iconName:"delete-outline"})):null))})),mo=o.a.create({container:{flexDirection:"column",alignItems:"center",paddingRight:10,paddingLeft:10,paddingBottom:5,paddingTop:5},containerRow:{flexDirection:"row",alignItems:"center",paddingTop:5,paddingBottom:5,backgroundColor:"white"},actionBox:{alignItems:"center",justifyContent:"center",marginRight:5},imageContainer:{alignItems:"center",justifyContent:"center"},noImage:{borderColor:ee.gray,borderWidth:.5},image:{width:100,height:100},noImageRow:{borderColor:ee.gray,borderWidth:.5},nameFollowersContainer:{alignItems:"center"},nameFollowersContainerRow:{marginLeft:oe,flex:1},name:{color:ee.darkGray,fontWeight:"bold",fontSize:N,fontFamily:"OpenSansBold",paddingTop:5},nameRow:{color:ee.darkGray,fontWeight:"bold",fontSize:U,fontFamily:"OpenSansBold"},followers:{fontSize:M,fontFamily:"OpenSans",color:ee.gray},followersRow:{fontSize:N,fontFamily:"OpenSans",color:ee.gray},descriptionText:{paddingTop:15,paddingBottom:3,fontSize:V,fontFamily:"OpenSans",color:ee.darkGray,lineHeight:20}});function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var go=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.list,o=e.vertical,i=e.editList,l=Object(c.c)(),s=Object(r.useState)(o),u=ln()(s,2),d=u[0],m=u[1],f=n.items,p=a.a.createElement(T.a,{style:{justifyContent:"center",flexDirection:"row",flex:1,padding:15}},a.a.createElement(fe.a,{style:we.message},"Nothing here yet! Add ",n.type," to start")),g=function(){var e="products"===n.type?"Products":"Influencers",r="products"===n.type?{product:n.items.length?n.items.map((function(e){return e._id})):["NOTVALID"]}:{author:n.items.length?n.items.map((function(e){return e._id})):["NOTVALID"]},a="following"===n.type?po({},ha,{following:n.items.length?n.items.map((function(e){return e._id})):["NOTVALID"],type:"media"}):po({},ha,{},r,{type:"media",tagName:n.name,tagType:e});l(va({params:a,stack:!0})),t.navigate("Search")};return a.a.createElement(T.a,{style:yo.list},a.a.createElement(an.a,{onPress:function(){return m(!d)}},a.a.createElement(T.a,null,a.a.createElement(T.a,{style:{marginRight:oe}},a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(T.a,{style:{flex:1}},a.a.createElement(fe.a,{numberOfLines:1,style:yo.name},n.name)),a.a.createElement(T.a,{style:{paddingTop:4}},a.a.createElement(te,{name:d?"expand-less":"expand-more",font:"MaterialIcons",size:Z}))),d&&n.description?a.a.createElement(fe.a,{numberOfLines:2,style:yo.description},n.description):null,a.a.createElement(T.a,{style:{flexDirection:"row",marginLeft:oe}},a.a.createElement(fe.a,{style:yo.subtitle},"Added "+n.items.length+" "+("products"===n.type?"product":"influencer")+(1===n.items.length?"":"s")+" to the list. "),a.a.createElement(R.a,{onPress:g},a.a.createElement(fe.a,{style:[yo.subtitle,{color:ee.red}]},"See media")))))),d?a.a.createElement(T.a,{style:d||0===f.length?yo.carousel_vertical:yo.carousel},f.length>0?a.a.createElement($t.a,{listKey:n.id,data:f,keyExtractor:function(e){return e._id},renderItem:function(e){var t=e.item;switch(n.type){case"products":return a.a.createElement(uo,{data:t,row:d,listId:n.id});default:return a.a.createElement(co,{data:t,row:d,listId:n.id,hideDelete:"following"===n.type})}},scrollEnabled:!0,horizontal:!d,showsHorizontalScrollIndicator:!1}):null):null,0==f.length&&d?p:null,a.a.createElement(T.a,{style:{alignItems:"flex-end",marginRight:10}},a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(ue,{iconName:"folder-video",iconFont:"Entypo",iconSize:q,iconColor:ee.gray,onPress:g}),a.a.createElement(bn,{h:10}),a.a.createElement(ue,{iconName:"edit",iconFont:"MaterialIcons",iconSize:q,iconColor:ee.gray,onPress:function(){return i(n)}}))))})),yo=o.a.create({list:{marginBottom:10,marginTop:10},carousel:{backgroundColor:ee.lighterGray,flexDirection:"row",marginTop:5,marginLeft:-10,paddingLeft:10,paddingTop:5,paddingBottom:5},carousel_vertical:{paddingTop:10,paddingBottom:5,marginLeft:oe,marginRight:oe},name:{fontFamily:"OpenSansBold",fontSize:U,color:ee.extraDarkGray,marginLeft:oe,flex:1},subtitle:{fontFamily:"OpenSans",fontSize:M,color:ee.darkGray,paddingTop:3},description:{fontFamily:"OpenSans",fontSize:V,color:ee.darkGray,marginLeft:oe,paddingTop:3,paddingBottom:3}}),ho=o.a.create({container:{justifyContent:"center",paddingLeft:ae,paddingRight:ae,paddingBottom:ae,marginRight:ae},text:{fontFamily:"OpenSans",fontSize:V},selectedItemStyle:{borderBottomWidth:1},unselectedItemStyle:{},selectedTextStyle:{color:ee.extraDarkGray},unselectedTextStyle:{color:ee.gray}}),bo=function(e){var t=e.isSelected,n=e.text,r=e.onPress;return a.a.createElement(R.a,{onPress:r,style:t?[ho.container,ho.selectedItemStyle]:[ho.container,ho.unselectedItemStyle]},a.a.createElement(fe.a,{style:t?[ho.text,ho.selectedTextStyle]:[ho.text,ho.unselectedTextStyle]},n))};function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wo=function(e){var t=e.navigation,n=Object(c.c)(),o=Object(c.d)((function(e){return e.Lists})),i=Object(c.d)((function(e){return e.user})),l=Object(r.useState)({visible:!1,list:null,tab:"influencers",loading:!0}),s=ln()(l,2),u=s[0],d=s[1],m=i.isLoggedIn&&o?Object.values(o):null,f=m?m.filter((function(e){return"following"===e.type})):[],p=m?m.filter((function(e){return"influencers"===e.type})):[],g=m?m.filter((function(e){return"products"===e.type})):[],y="influencers"===u.tab?[].concat(ut()(f),ut()(p)):g,h=function(){return d(So({},u,{visible:!1}))},b=function(e){i.isLoggedIn?d(So({},u,{visible:!0,list:e,user:i})):t.navigate("Auth")},v=function(e){d(So({},u,{tab:e}))},S=function(e){var t=e.item;return a.a.createElement(go,{list:t,vertical:!0,editList:b})},w=a.a.createElement(En,{text:Je.t("lists.noLists")}),E=u.list?a.a.createElement(ue,{iconName:"delete",iconFont:"MaterialIcons",iconSize:20,onPress:function(){var e;n((e=u.list.id,function(t){return Le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:try{t({type:"delete_list",payload:e}),Te.collection("lists").doc(e).delete()}catch(r){console.log(r.message)}case 1:case"end":return n.stop()}}),null,null,null,Promise)})),d(So({},u,{visible:!1}))}}):null,O={visible:u.visible,animationType:"slide",transparent:!1,name:function(){u.list,u.tab},actionIcon:E};return Object(r.useEffect)((function(){setTimeout((function(){d(So({},u,{loading:!1}))}),500)}),[]),a.a.createElement(T.a,{style:we.container},a.a.createElement(Ee,{options:O},a.a.createElement(T.a,{style:{width:34,marginTop:5,marginBottom:20,marginLeft:10}},a.a.createElement(ue,{iconName:"close",iconFont:"MaterialIcons",iconSize:24,onPress:h})),a.a.createElement(jn,{onSubmit:h,list:u.list,user:u.user,listType:u.tab})),a.a.createElement(T.a,{style:[Oo.subContainer,{marginLeft:10}]},a.a.createElement(lo,{hideSymbol:!0},a.a.createElement(T.a,{style:Oo.headerContent},a.a.createElement(fe.a,{style:Oo.title},"Lists"),a.a.createElement(sn,{text:"New List",onPress:function(){return b(null)}})),a.a.createElement(T.a,{style:Oo.tabs},a.a.createElement(bo,{text:"Influencers",isSelected:"influencers"===u.tab,onPress:function(){v("influencers")}}),a.a.createElement(bo,{text:"Products",isSelected:"products"===u.tab,onPress:function(){v("products")}}))),a.a.createElement((function(){return i.isLoggedIn&&!y?a.a.createElement(Xt,null):a.a.createElement($t.a,{data:y,keyExtractor:function(e){return e.id},ListEmptyComponent:w,renderItem:S,scrollEnabled:!0,contain:!0,style:Oo.content,showsVerticalScrollIndicator:!1})}),null)))};wo.navigationOptions={headerTransparent:!0,title:null};var Eo=Object(f.withNavigation)(wo),Oo=o.a.create({headerContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginLeft:-ae+oe,marginRight:-ae+oe},subContainer:{flex:1,width:935,maxWidth:935,paddingRight:10,paddingTop:0},content:{marginBottom:50},tabs:{marginTop:20,flexDirection:"row",borderBottomWidth:1,borderColor:ee.gray},title:{fontFamily:"OpenSansSemiBold",fontSize:Q,color:ee.darkGray}}),xo=o.a.create({container:{padding:ae,paddingTop:"ios"===d.a.OS?Be.a.statusBarHeight:15,flex:1,display:"flex",justifyContent:"center",flexDirection:"row"},containerMain:{marginTop:ae,flexDirection:"row",alignItems:"center"},suggestions:{paddingLeft:10,paddingRight:oe-ae},searchBar:{flexDirection:"row",alignItems:"center",backgroundColor:ee.lighterGray,paddingLeft:10,paddingRight:10,borderRadius:ae,height:50,flex:1},sectionText:{paddingTop:15,paddingBottom:10,fontFamily:"Roboto_medium",fontSize:N,color:ee.gray},suggestion:{fontFamily:"Roboto_medium",fontSize:Y,paddingBottom:10,flex:1},icon:{padding:ne},cancel:{padding:10,fontFamily:"OpenSans"},inputText:{backgroundColor:ee.lighterGray,paddingBottom:1,paddingTop:1,fontSize:U,fontFamily:"OpenSansSemiBold",color:ee.darkGray,paddingLeft:10},placeholderText:{color:"lightgrey"},inputArea:{paddingLeft:5,flexDirection:"row",alignItems:"center",maxWidth:"85%"},type:{paddingLeft:5,paddingRight:5,fontSize:M,fontFamily:"RobotoBold",color:ee.gray},tag:{flexDirection:"row",alignItems:"center",borderWidth:.5,borderColor:ee.darkGray,borderRadius:5,marginLeft:2,marginRight:4,paddingTop:5,paddingBottom:5,paddingLeft:7,paddingRight:7},textTag:{color:ee.darkGray,fontFamily:"OpenSans"},tab:{flex:1,height:30,alignItems:"center",justifyContent:"center"},unselectedTab:{padding:0,alignItems:"center",justifyContent:"center",height:"100%",width:40},selectedTab:{borderBottomWidth:2,borderColor:ee.default}}),ko=function(e){var t=e.term,n=e.endEditing,o=e.onChangeText,i=e.resetBar,l=null;return Object(r.useEffect)((function(){l&&l.focus()})),a.a.createElement(T.a,{style:xo.searchBar},a.a.createElement(te,{name:"search",size:U,color:ee.darkGray,font:"Feather"}),a.a.createElement(pe.a,{ref:function(e){l=e},style:[xo.inputText,{flex:1}],underlineColorAndroid:"transparent",value:t,onChangeText:o,onEndEditing:n,placeholder:Je.t("homeSearch")}),""!==t?a.a.createElement(R.a,{onPress:i},a.a.createElement(T.a,{style:[xo.closeIcon]},a.a.createElement(te,{name:"close",size:18,color:ee.darkGray,font:"MaterialIcons"}))):null)};function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Po=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.data,o=e.view,i=void 0===o?"":o,l=Object(c.c)(),s=Object(c.d)((function(e){return e.Misc})).skincare,u=Object(r.useState)({term:"",type:"all",isActive:!1,time:0,suggestions:[],offset:new P.a.Value(0),feedbackVisible:!1,visible:!1}),f=ln()(u,2),p=f[0],g=f[1],y=Object(r.useState)({search:[],time:0}),h=ln()(y,2),b=h[0],v=h[1];function S(e,t){var n,r;return Le.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e===b.term){a.next=6;break}return a.next=3,Le.a.awrap(Ne.post("/suggestions",{search:e,time:t}));case 3:n=a.sent,(r=n.data).search.length&&v({term:e,search:r.search,time:t});case 6:case"end":return a.stop()}}),null,null,null,Promise)}Object(r.useEffect)((function(){g(Co({},p,{term:n.last.term,type:n.last.type})),S(n.last.term,Date.now())}),[n.last]),Object(r.useEffect)((function(){b.time>=p.time&&g(Co({},p,{suggestions:b.search}))}),[b]);var w=function(e){var t;return Le.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=Date.now(),g(Co({},p,{term:e,time:t})),S(e,t);case 3:case"end":return n.stop()}}),null,null,null,Promise)},E=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.term,o=e.type,c=o||p.type,s="all"===c?"_home":"",u=s===i?p.term:n.last.term,d=null;a&&a!==n.last.term&&n.last.tagType&&(d={tagType:null,tagName:null,product:[],author:[]}),g(Co({},p,{isActive:r},e,{},d,{type:s===i?c:n.last.type,term:u,suggestions:s===i&&u?p.suggestions:[]})),l(va({params:Co({},n.last,{term:p.term},e,{},d,{page:0}),stack:n.last.type!==c||d,view:s})),"all"===c&&""===i?t.navigate("Home"):"all"!==c&&"_home"===i&&t.navigate("SearchMain",{stopLoading:!0})},O=function(e){return a.a.createElement(R.a,{key:e,onPress:function(){E({term:e})}},a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(fe.a,{style:[we.text,xo.suggestion]},e),a.a.createElement(R.a,{onPress:function(){w(e)}},a.a.createElement(T.a,{style:[xo.icon]},a.a.createElement(te,{name:"arrow-up-left",size:18,color:ee.gray,font:"Feather"})))))},x=function(e){return a.a.createElement(ge.a,{style:{height:m.a.get("window").height-150},"keyboardShouldPersistTap\xces":"always",showsVerticalScrollIndicator:!1},""!==p.term&&p.suggestions.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(fe.a,{style:[we.text,xo.sectionText]},"SUGGESTED SEARCHES"),p.suggestions.map(O)):null,a.a.createElement(fe.a,{style:[we.text,xo.sectionText]},"POPULAR SEARCHES"),s.search.popular.map(O),a.a.createElement(fe.a,{style:[we.text,xo.sectionText]},"TRENDING SEARCHES"),s.search.trending.map(O),a.a.createElement(bn,{v:e}))},k={animationType:"slide",transparent:!1,visible:p.isActive},j=function(e){switch(e){case"Home":return"home";case"Search":return"search";case"Lists":return"heart";case"FeedBack":return"message-circle";default:return"home"}},C=function(e){return a.a.createElement(ue,{iconName:j(e.screen),iconSize:20,iconColor:t.state.routeName===e.stackNavigator?ee.default:ee.semiGray,containerStyle:t.state.routeName===e.stackNavigator?[xo.unselectedTab,xo.selectedTab]:xo.unselectedTab,onPress:function(){return t.navigate(e.stackNavigator)}})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,{options:k},a.a.createElement(T.a,{style:{flexDirection:"row",alignItems:"center",paddingLeft:10}},a.a.createElement(ko,{term:p.term,endEditing:function(){return E({term:p.term})},onChangeText:w,resetBar:function(){return E({term:""},!0)}}),a.a.createElement(an.a,{onPress:function(){g(Co({},p,{isActive:!1}))}},a.a.createElement(T.a,null,a.a.createElement(fe.a,{style:[we.text,xo.cancel]},"Cancel")))),a.a.createElement(T.a,{style:xo.suggestions},a.a.createElement(fe.a,{style:[we.text,xo.sectionText,{color:ee.darkGray}]},"SEARCH FOR"),a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(Ea,{text:"All",isSelected:n.last.type===Za,onPress:function(){return E({type:Za})}}),a.a.createElement(bn,{h:10}),a.a.createElement(Ea,{text:"Media",isSelected:n.last.type===Xa,onPress:function(){return E({type:Xa})}}),a.a.createElement(bn,{h:10}),a.a.createElement(Ea,{text:"Influencers",isSelected:n.last.type===$a,onPress:function(){return E({type:$a})}}),a.a.createElement(bn,{h:10}),a.a.createElement(Ea,{text:"Products",isSelected:n.last.type===eo,onPress:function(){return E({type:eo})}})),a.a.createElement(bn,{v:15}),"ios"===d.a.OS?a.a.createElement(me.a,{behavior:"height"},x(100)):x(250))),a.a.createElement(T.a,{style:xo.containerMain},a.a.createElement(T.a,{style:xo.searchBar},n.stack.length>0||p.type!==Za?a.a.createElement(R.a,{onPress:function(){n.stack.length>0?l({type:"search_back"+i}):t.navigate("Home")}},a.a.createElement(te,{name:"arrow-left",size:20,color:ee.darkGray})):a.a.createElement(te,{name:"search",size:U,color:ee.darkGray,font:"Feather"}),a.a.createElement(an.a,{onPress:function(){g(Co({},p,{isActive:!0}))}},a.a.createElement(T.a,{style:{flex:1}},n.last.tagType?a.a.createElement(T.a,{style:xo.inputArea},a.a.createElement(fe.a,{style:xo.type},n.last.tagType),a.a.createElement(T.a,{style:xo.tag},a.a.createElement(fe.a,{style:[xo.textTag],numberOfLines:1},n.last.tagName))):a.a.createElement(fe.a,{style:[xo.inputText,""===n.last.term?xo.placeholderText:{},{paddingRight:10}],numberOfLines:1},""===n.last.term?"Search":n.last.term))),n.last.term&&""!==n.last.term||n.last.tagType?a.a.createElement(R.a,{onPress:function(){return E({term:"",tagType:null,tagName:null,product:[],author:[]})}},a.a.createElement(T.a,{style:[xo.icon]},a.a.createElement(te,{name:"close",size:18,color:ee.darkGray,font:"MaterialIcons"}))):null),"web"===d.a.OS&&m.a.get("window").width>500?a.a.createElement(T.a,{style:{display:"flex",flexDirection:"row",marginLeft:20}},a.a.createElement(C,{stackNavigator:"HomeMain",screen:"Home"}),a.a.createElement(C,{stackNavigator:"SearchMain",screen:"Search"}),a.a.createElement(C,{stackNavigator:"ListsMain",screen:"Lists"}),a.a.createElement(ue,{iconName:"message-circle",iconSize:20,iconColor:ee.semiGray,onPress:function(){g(Co({},p,{feedbackVisible:!0}))}}),a.a.createElement($e,{visible:p.feedbackVisible,hideModal:function(){g(Co({},p,{feedbackVisible:!1}))}})):null,a.a.createElement(T.a,{style:{paddingLeft:10,paddingRight:10}},a.a.createElement(ja,{view:i,loadFilters:!0,searchData:n}))))})),To=o.a.create({descriptionText:{paddingTop:5,paddingBottom:5,fontSize:W,fontFamily:"OpenSans",color:ee.darkGray,lineHeight:20}}),Ro=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.author,r=e.caption,o=e.inList,i=e.onLike,l=function(e){e._id;t.navigate("Author",{author:n,filter:!0,fromRoute:t.state.routeName})};return a.a.createElement(Ka,{image:n.image,title:n.name,caption:"See their media"+r.extra,inList:o,onLike:function(){i(n)},onPress:l,seeMedia:l,showYoutube:n.channelId,roundImage:!0},a.a.createElement(fe.a,{style:[we.text,{fontSize:N,color:ee.gray}]},n.text,n.text?", ":"",r.full),n.description?a.a.createElement(fe.a,{numberOfLines:2,style:To.descriptionText},n.description):null)}));function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Io=o.a.create({refreshContainer:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"white"},listEmptyMessage:{flex:1,alignItems:"center",backgroundColor:"white",paddingTop:20},listEmptyMessageText:{fontSize:V,color:ee.darkGray},authorCard:{backgroundColor:"white",paddingTop:oe,paddingLeft:oe,paddingRight:oe,marginTop:0,marginBottom:4,marginLeft:0,marginRight:0,paddingBottom:oe},productCard:{backgroundColor:"white",paddingTop:oe,paddingLeft:ae,paddingRight:ae,marginTop:0,marginBottom:4,marginLeft:0,marginRight:0,paddingBottom:oe}}),Fo=function(e){var t=e.navigation,n=Object(c.c)(),o=Object(r.useState)({visible:!1}),i=ln()(o,2),l=i[0],s=i[1],u=t.getParam("stopLoading"),d=Object(c.d)((function(e){return e.Search})),m=Object(c.d)((function(e){return e.Misc})),f=Object(c.d)((function(e){return e.Lists})),p=[];try{p=m.skincare.labels.filter((function(e){return"reviews"===e._id}))}catch(O){}var g=f?Object.values(f):[],y=g.filter((function(e){return"products"===e.type})),h=g.filter((function(e){return"influencers"===e.type})),b=function(e){s(Lo({},l,{visible:!0,item:e,type:"products"}))},v=function(e){s(Lo({},l,{visible:!0,item:e,type:"influencers"}))};Object(r.useEffect)((function(){d.last.loading||0!==d.last.time||u||n(va({params:ha}))}),[]);var S=function(e){var t=e.name+" by "+e.brand;n(va({params:Lo({},ha,{product:[e._id],tags:p,type:"media",tagName:t,tagType:"Product"}),stack:!0}))},w=a.a.createElement(T.a,{style:Io.listEmptyMessage},a.a.createElement(fe.a,{style:Lo({},Io.listEmptyMessageText,{},Io.listEmptyMessage)},Je.t("emptyMedia")));function E(e){var t=e.count-e.videos,n=e.videos>0?e.videos+" Youtube video"+(e.videos>1?"s":""):"",r=t>0?t+" Article"+(t>1?"s":""):"",a=e.videos>0&&t>0?" & ":"",o=d.last.term&&""!==d.last.term?" on "+d.last.term:"";return{full:n+a+r+o,extra:o}}return a.a.createElement(Wr,{data:d.last.items,empty:w,loadMore:function(){d.last.isLast||d.loading||n(va({params:Lo({},d.last,{page:d.last.page+1})}))},loading:d.loading,renderItem:function(e){switch(d.last.type){case Xa:return function(e){var t=e.item;return a.a.createElement(la,{data:t})}(e);case $a:return function(e){var t=e.item,n=E(t),r=h.find((function(e){return e.items.find((function(e){return e._id===t._id}))}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{style:Io.authorCard},a.a.createElement(Ro,{author:t,caption:n,inList:r,onLike:v})),a.a.createElement(T.a,{style:{backgroundColor:ee.lightGray,padding:2}}))}(e);case eo:return function(e){var t=e.item,n=E(t),r=y.find((function(e){return e.items.find((function(e){return e._id===t._id}))}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{style:Io.productCard},a.a.createElement(Qa,{product:t,caption:n,seeMedia:S,inList:r,onLike:b})),a.a.createElement(T.a,{style:{backgroundColor:ee.lightGray,padding:2}}))}(e)}},resetScroll:d.last.time,page:d.last.page},a.a.createElement(lo,{hideSymbol:!0},a.a.createElement(Po,{data:d,view:"_search"}),l.visible?a.a.createElement(Ln,{visible:l.visible,item:l.item,type:l.type,onClose:function(){return s({visible:!1})},onAdd:function(e,t){n(yn(e,t))},onDelete:function(e,t){n(hn(e,t))}}):null))};Fo.navigationOptions={headerTransparent:!0,title:null};var Bo=Fo,zo=o.a.create({container:{height:250,width:250,padding:oe,marginLeft:20},imageContainer:{alignItems:"center"},image:{width:150,height:150},productContentContainer:{paddingTop:10},brand:{color:ee.gray,fontFamily:"OpenSans",fontSize:N},name:{color:ee.darkGray,fontWeight:"bold",fontSize:U,fontFamily:"OpenSansBold"}}),_o=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.product,r=e.inList,o=e.onProductLike;return a.a.createElement(an.a,{onPress:function(e){e._id;t.navigate("ProductDetails",{productId:n._id})}},a.a.createElement(T.a,{style:zo.container},a.a.createElement(T.a,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,paddingLeft:20,flexDirection:"row-reverse"}},a.a.createElement(ue,{iconName:r?"heart":"heart-o",iconSize:q,iconColor:r?ee.red:ee.gray,iconFont:"FontAwesome",onPress:function(){o(n)}})),a.a.createElement(T.a,{style:zo.imageContainer},a.a.createElement(dt.a,{style:[zo.image],resizeMode:"cover",source:{uri:n.img}})),a.a.createElement(T.a,{style:zo.productContentContainer},a.a.createElement(fe.a,{numberOfLines:1,style:zo.brand},n.brand.toUpperCase()),a.a.createElement(fe.a,{numberOfLines:1,style:zo.name},n.name),a.a.createElement(Ya,{disabled:!0,maxStars:5,rating:n.score/2,starSize:13,fullStarColor:ee.yellow,containerStyle:{justifyContent:"flex-start",paddingTop:10},starStyle:{paddingRight:3}}))))}));function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ao=o.a.create({container:{width:350,marginLeft:oe,marginRight:oe},imageContainer:{alignItems:"center"},image:{width:"100%",height:300,borderRadius:5},brand:{color:ee.gray,fontFamily:"OpenSans",fontSize:N},title:{paddingTop:ae,color:ee.darkGray,fontFamily:"OpenSansBold",fontSize:U},description:{marginTop:ae,fontFamily:"OpenSans",fontSize:V,color:ee.darkGray,lineHeight:20},date:{fontSize:M,fontFamily:"Roboto",color:ee.categoriesLightGray,paddingTop:7}}),Go=Object(f.withNavigation)((function(e){var t=e.navigation,n=e.data,o=Object(r.useState)({imageError:!1}),i=ln()(o,2),l=i[0],c=i[1],s=n.link.includes("youtube"),u=Xn()(n.date).fromNow();return a.a.createElement(an.a,{onPress:function(){return Mn(n.link,{title:n.title},{type:"blog",author:n.author._id,title:n.title})}},a.a.createElement(T.a,{style:Ao.container},a.a.createElement(T.a,{style:Ao.imageContainer},s?a.a.createElement(Un,{image:n.image,videoLink:n.link}):n.image&&!l.imageError&&a.a.createElement(dt.a,{style:Ao.image,source:{uri:n.image},onError:function(){c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l,{imageError:!0}))}})),a.a.createElement(T.a,null,a.a.createElement(an.a,{onPress:function(){return t.navigate("Author",{author:n.author,fromRoute:t.state.routeName})}},a.a.createElement(T.a,{style:{paddingTop:oe}},a.a.createElement(zn,{data:n.author}))),a.a.createElement(fe.a,{style:Ao.date},u),a.a.createElement(fe.a,{numberOfLines:2,style:Ao.title},n.title),a.a.createElement(fe.a,{numberOfLines:2,style:Ao.description},n.summary))))}));function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wo=Object(f.withNavigation)((function(e){var t,n=e.navigation,r=e.list,o=e.onProductLike,i=Object(c.c)(),l=Object(c.d)((function(e){return e.Search})),s=Object(c.d)((function(e){return e.Lists})),u=(s?Object.values(s):[]).filter((function(e){return"products"===e.type}));return t="web"===d.a.OS,r.data.length?a.a.createElement(T.a,{style:Vo.container},a.a.createElement(T.a,{style:Vo.content},a.a.createElement(fe.a,{style:Vo.title},r.title)),a.a.createElement(T.a,{style:{backgroundColor:"authors"===r.type?ee.extraLightGray:"white"}},a.a.createElement($t.a,{listKey:r._id,data:r.data,keyExtractor:function(e){return e._id},renderItem:function(e){var t=e.item;switch(r.type){case"authors":return a.a.createElement(co,{data:t,loadFilters:!0,tags:r.tags});case"products":var n=u.find((function(e){return e.items.find((function(e){return e._id===t._id}))}));return a.a.createElement(_o,{product:t,inList:n,onProductLike:o});case"media":return a.a.createElement(Go,{data:t})}},scrollEnabled:!0,horizontal:!0,showsHorizontalScrollIndicator:t,contentContainerStyle:{paddingRight:20}})),a.a.createElement(T.a,{style:Vo.content},a.a.createElement(je,{style:Vo.button,textStyle:Vo.buttonText,onPress:function(){i(va({params:No({},l.last,{tags:r.tags,type:r.type,term:r.term?r.term:"",product:[],author:[],tagType:null,tagName:null,page:0}),stack:!0})),n.navigate("SearchMain",{stopLoading:!0})},text:r.button}))):null})),Vo=o.a.create({container:{backgroundColor:"white",paddingBottom:10},carrousel:{paddingRight:0},content:{padding:oe,marginTop:10,marginBottom:15},title:{fontFamily:"OpenSansSemiBold",fontSize:Z,color:ee.darkGray},button:{height:45,borderRadius:5,flex:1,borderWidth:1,borderColor:ee.extraDarkGray,marginTop:15},buttonText:{color:ee.extraDarkGray,fontFamily:"OpenSansSemiBold",fontSize:V}});function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yo=function(){var e=Object(c.c)(),t=Object(r.useState)({visible:!1}),n=ln()(t,2),o=n[0],i=n[1],l=Object(c.d)((function(e){return e.HomeSearch})),s=Object(c.d)((function(e){return e.Misc})),u=Object(c.d)((function(e){return e.Lists}));try{s.skincare.labels.filter((function(e){return"reviews"===e._id}))}catch(p){}(u?Object.values(u):[]).filter((function(e){return"products"===e.type}));var m=function(e){i(qo({},o,{visible:!0,item:e,type:"products"}))};Object(r.useEffect)((function(){e(va({params:qo({},ha,{type:"all"}),view:"_home"})),setTimeout((function(){if("web"===d.a.OS){var e=document.querySelector("#root > div > div > div > div > div:nth-child(2)");e&&(e.style.display="none",!0)}}),0)}),[]);var f=a.a.createElement(T.a,{style:Qo.listEmptyMessage},a.a.createElement(fe.a,{style:qo({},Qo.listEmptyMessage,{},Qo.text)},Je.t("emptyMedia")));return a.a.createElement(Wr,{data:l.last.items,empty:f,loadMore:function(){l.last.isLast||l.loading||e(va({params:qo({},l.last,{page:l.last.page+1}),view:"_home"}))},loading:l.loading,renderItem:function(e){var t=e.item;return a.a.createElement(Wo,{list:t,onProductLike:m})},resetScroll:l.last.time,page:l.last.page,isHomeView:!0},a.a.createElement(lo,{hideSymbol:!0},a.a.createElement(Po,{data:l,view:"_home"}),o.visible?a.a.createElement(Ln,{visible:o.visible,item:o.item,type:o.type,onClose:function(){return i({visible:!1})},onAdd:function(t,n){e(yn(t,n))},onDelete:function(t,n){e(hn(t,n))}}):null))};Yo.navigationOptions={headerTransparent:!0,title:null};var Jo,Ko=Yo,Qo=o.a.create({refreshContainer:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"white"},listEmptyMessage:{flex:1,alignItems:"center",backgroundColor:"white",paddingTop:10},text:{fontSize:V,color:ee.darkGray},authorCard:{backgroundColor:"white",paddingTop:oe,paddingLeft:oe,paddingRight:oe,marginTop:0,marginBottom:4,marginLeft:0,marginRight:0,paddingBottom:oe},productCard:{backgroundColor:"white",paddingTop:oe,paddingLeft:ae,paddingRight:ae,marginTop:0,marginBottom:4,marginLeft:0,marginRight:0,paddingBottom:oe}}),Zo=Object(p.a)({HomeMain:Ko,Author:ao,ProductDetails:fr},{defaultNavigationOptions:Ir}),Xo=Object(p.a)({SearchMain:Bo,Author:ao,ProductDetails:fr},{defaultNavigationOptions:Ir}),$o=Object(p.a)({ListsMain:Eo,Author:ao,ProductDetails:fr},{defaultNavigationOptions:Ir}),ei=Object(g.a)({Home:Zo,Search:Xo,Lists:$o},{tabBarComponent:function(){return a.a.createElement(it,null)},navigationOptions:{headerShown:!1,headerBackTitle:null}});Jo="web"===d.a.OS&&m.a.get("window").width>500?Object(p.a)({Home:Zo,Search:Xo,Lists:$o,Auth:Lr,WebViewModal:Gr},{defaultNavigationOptions:Ir}):Object(p.a)({Root:ei,Auth:Lr,WebViewModal:Gr},{defaultNavigationOptions:Ir});var ti=Object(f.createSwitchNavigator)({Root:Jo,Splash:wr},{initialRouteName:"Splash"}),ni=Object(f.createAppContainer)(ti),ri=n(638);function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ii={isLoggedIn:!1};function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si={products:[],lastvideoBlog:null,productDetails:null},ui=Object(Tt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"sign_in_user":return oi({},e,{isLoggedIn:!0},r);case"log_out_user":return oi({},ii);default:return e}},Lists:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=n.type,a=n.payload;switch(r){case"update_lists":return a;case"new_list":return(e=dn({},t))[a.id]=a,e;case"delete_list":return delete(e=dn({},t))[a],e;case"add_to_list":case"remove_from_list":var o=a.listId,i=t[o];switch(i.modified=a.modified,r){case"add_to_list":var l=[a.item].concat(ut()(i.items));i.items=l;break;case"remove_from_list":var c=i.items.filter((function(e){return e._id!==a.item._id}));i.items=c}return(e=dn({},t))[o]=i,e;default:return t}},Products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_products":return ci({},e,{products:t.payload});case"get_next_products":return ci({},e,{products:t.payload?[].concat(ut()(e.products),ut()(t.payload)):e.products});case"get_product_details":return ci({},e,{productDetails:t.payload});case"get_next_product_blogs":return ci({},e,{productDetails:ci({},e.productDetails,{blogs:t.payload})});case"get_product_blogs":return ci({},e,{productDetails:ci({},e.productDetails,{blogs:t.payload?[].concat(ut()(e.productDetails.blogs),ut()(t.payload)):e.productDetails.blogs})});case"is_product_blogs_last":return ci({},e,{lastvideoBlog:ci({},e.lastvideoBlog,{isBloglast:t.isBloglast})});case"get_product_videos":return ci({},e,{productDetails:ci({},e.productDetails,{videos:t.payload})});case"get_next_product_videos":return ci({},e,{productDetails:ci({},e.productDetails,{videos:t.payload?[].concat(ut()(e.productDetails.videos),ut()(t.payload)):e.productDetails.videos})});case"is_product_videos_last":return ci({},e,{lastvideoBlog:ci({},e.lastvideoBlog,{isVideolast:t.isVideolast})});case"clear_videos_blogs_last":return ci({},e,{lastvideoBlog:null});case"clear_products":return ci({},e,{products:[]});case"clear_product_details":return ci({},e,{productDetails:e.productDetails&&t.payload===e.productDetails._id?e.productDetails:null});case"MARK_PRODUCTS_AS_LIKED":return ci({},e,{products:e.products.map((function(e){var n=t.payload.find((function(t){return t===e._id}));return ci({},e,n?{liked:!0}:{liked:!1})}))});default:return e}},AuthorViewSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"search_author":return ya({},e,{},t.payload,{loading:!1});case"search_loading_author":return ya({},e,{},t.payload,{loading:!0});case"search_next_author":var n=pa()(t.payload.items,e.items,"_id");return ya({},e,{},t.payload,{items:[].concat(ut()(e.items),ut()(n)),loading:!1});default:return e}},AuthorInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update_authorInfo":return t.payload;default:return e}},Search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"search":var n=e.previous.items.length>0,r=t.reset?{stack:[]}:t.stack&&n?{stack:[].concat(ut()(e.stack),[e.previous])}:{};return ya({},e,{},r,{last:ya({},e.last,{},t.payload),loading:!1});case"search_back":var a=e.stack.pop();return{last:ya({},a),stack:ut()(e.stack)};case"search_loading":return ya({},e,{last:ya({},e.last,{},t.payload),previous:ya({},e.last),loading:!0});case"search_next":var o=pa()(t.payload.items,e.last.items,"_id");return ya({},e,{last:ya({},e.last,{},t.payload,{items:[].concat(ut()(e.last.items),ut()(o))}),loading:!1});default:return e}},HomeSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"search_home":var n=t.reset?{stack:[]}:t.stack?{stack:[].concat(ut()(e.stack),[e.previous])}:{};return ya({},e,{},n,{last:ya({},e.last,{},t.payload),loading:!1});case"search_back_home":var r=e.stack.pop();return{last:ya({},r),stack:ut()(e.stack)};case"search_loading_home":return ya({},e,{last:ya({},e.last,{},t.payload),previous:ya({},e.last),loading:!0});case"search_next_home":var a=pa()(t.payload.items,e.last.items,"_id");return ya({},e,{last:ya({},e.last,{},t.payload,{items:[].concat(ut()(e.last.items),ut()(a))}),loading:!1});default:return e}},Misc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_meta":return yr({},t.payload);default:return e}}}),di=Object(Tt.d)(ui,Object(Tt.a)(ri.a));Object(l.a)((function(){var e=["measureLayoutRelativeToContainingList","Setting a timer"];return i.a.ignoreWarnings(e),console.ignoredYellowBox=[e],a.a.createElement(c.a,{store:di},a.a.createElement(u.b,null,a.a.createElement(s.Root,null,a.a.createElement(ni,{ref:function(e){Fn=e}}))))}));o.a.create({container:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"}})}},[[651,1,2]]]);
//# sourceMappingURL=app.f639195c.chunk.js.map